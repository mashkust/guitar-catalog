{"ast":null,"code":"import _toConsumableArray from\"/Users/mashkust/react-starter-pack-main/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import{useNavigate}from'react-router-dom';import{AppRoute}from'../const';import{useAppDispatch,useAppSelector}from'../hooks/hooks';import{setMaxPrice,setMinPrice,setSelectedStrings,setSelectedTypes}from'../store/guitar-data';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function FilterCard(){var guitars=useAppSelector(function(_ref){var DATA=_ref.DATA;return DATA.guitars;});var _useAppSelector=useAppSelector(function(_ref2){var DATA=_ref2.DATA;return DATA;}),maxPrice=_useAppSelector.maxPrice,minPrice=_useAppSelector.minPrice,selectedTypes=_useAppSelector.selectedTypes,selectedStrings=_useAppSelector.selectedStrings;var dispatch=useAppDispatch();var navigate=useNavigate();var arrPrice=guitars.slice().map(function(el){return el.price;});var max=Math.max.apply(Math,_toConsumableArray(arrPrice));var min=Math.min.apply(Math,_toConsumableArray(arrPrice));var compareValues=function compareValues(){if(Number(maxPrice)<Number(minPrice)&&maxPrice!==null&&minPrice!==null){if(Number(maxPrice)<min){dispatch(setMaxPrice(String(min)));}else if(Number(minPrice)>max){dispatch(setMinPrice(String(max)));}else{dispatch(setMaxPrice(minPrice));dispatch(setMinPrice(maxPrice));}}};return/*#__PURE__*/_jsxs(\"form\",{className:\"catalog-filter\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"title title--bigger catalog-filter__title\",children:\"\\u0424\\u0438\\u043B\\u044C\\u0442\\u0440\"}),/*#__PURE__*/_jsxs(\"fieldset\",{className:\"catalog-filter__block\",children:[/*#__PURE__*/_jsx(\"legend\",{className:\"catalog-filter__block-title\",children:\"\\u0426\\u0435\\u043D\\u0430, \\u20BD\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"catalog-filter__price-range\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-input\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"visually-hidden\",children:\"\\u041C\\u0438\\u043D\\u0438\\u043C\\u0430\\u043B\\u044C\\u043D\\u0430\\u044F \\u0446\\u0435\\u043D\\u0430\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:String(min),id:\"priceMin\",name:\"\\u043E\\u0442\",min:\"0\",value:minPrice||'',onKeyPress:function onKeyPress(evt){var key=evt.key;if(key==='-'||key==='.'||key==='e'||key===','){evt.preventDefault();}},onChange:function onChange(evt){return dispatch(setMinPrice(evt.currentTarget.value));},onBlur:function onBlur(){if(Number(minPrice)<min&&maxPrice!==null){dispatch(setMinPrice(String(min)));}if(Number(minPrice)>max){dispatch(setMinPrice(String(max)));}compareValues();navigate(AppRoute.Page1);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-input\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"visually-hidden\",children:\"\\u041C\\u0430\\u043A\\u0441\\u0438\\u043C\\u0430\\u043B\\u044C\\u043D\\u0430\\u044F \\u0446\\u0435\\u043D\\u0430\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:String(max),id:\"priceMax\",name:\"\\u0434\\u043E\",min:\"0\",value:maxPrice||'',onKeyPress:function onKeyPress(evt){var key=evt.key;if(key==='-'||key==='.'||key==='e'||key===','){evt.preventDefault();}},onChange:function onChange(evt){dispatch(setMaxPrice(evt.currentTarget.value));},onBlur:function onBlur(){if(Number(maxPrice)>max){dispatch(setMaxPrice(String(max)));}if(Number(maxPrice)<min&&maxPrice!==null){dispatch(setMaxPrice(String(min)));}compareValues();navigate(AppRoute.Page1);}})]})]})]}),/*#__PURE__*/_jsxs(\"fieldset\",{className:\"catalog-filter__block\",children:[/*#__PURE__*/_jsx(\"legend\",{className:\"catalog-filter__block-title\",children:\"\\u0422\\u0438\\u043F \\u0433\\u0438\\u0442\\u0430\\u0440\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-checkbox catalog-filter__block-item\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"visually-hidden\",type:\"checkbox\",id:\"acoustic\",name:\"acoustic\",checked:selectedTypes&&selectedTypes.includes('acoustic'),onChange:function onChange(){dispatch(setSelectedTypes('acoustic'));navigate(AppRoute.Page1);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"acoustic\",children:\"\\u0410\\u043A\\u0443\\u0441\\u0442\\u0438\\u0447\\u0435\\u0441\\u043A\\u0438\\u0435 \\u0433\\u0438\\u0442\\u0430\\u0440\\u044B\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-checkbox catalog-filter__block-item\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"visually-hidden\",type:\"checkbox\",id:\"electric\",name:\"electric\",checked:selectedTypes&&selectedTypes.includes('electric'),onChange:function onChange(){dispatch(setSelectedTypes('electric'));navigate(AppRoute.Page1);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"electric\",children:\"\\u042D\\u043B\\u0435\\u043A\\u0442\\u0440\\u043E\\u0433\\u0438\\u0442\\u0430\\u0440\\u044B\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-checkbox catalog-filter__block-item\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"visually-hidden\",type:\"checkbox\",id:\"ukulele\",name:\"ukulele\",checked:selectedTypes&&selectedTypes.includes('ukulele'),onChange:function onChange(){dispatch(setSelectedTypes('ukulele'));navigate(AppRoute.Page1);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"ukulele\",children:\"\\u0423\\u043A\\u0443\\u043B\\u0435\\u043B\\u0435\"})]})]}),/*#__PURE__*/_jsxs(\"fieldset\",{className:\"catalog-filter__block\",children:[/*#__PURE__*/_jsx(\"legend\",{className:\"catalog-filter__block-title\",children:\"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E \\u0441\\u0442\\u0440\\u0443\\u043D\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-checkbox catalog-filter__block-item\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"visually-hidden\",type:\"checkbox\",id:\"4-strings\",name:\"4-strings\",checked:selectedStrings&&selectedStrings.includes(4),disabled:selectedTypes&&selectedTypes.length!==0&&!selectedTypes.includes('ukulele')&&!selectedTypes.includes('electric'),onChange:function onChange(){dispatch(setSelectedStrings(4));navigate(AppRoute.Page1);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"4-strings\",children:\"4\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-checkbox catalog-filter__block-item\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"visually-hidden\",type:\"checkbox\",id:\"6-strings\",name:\"6-strings\",checked:selectedStrings&&selectedStrings.includes(6),disabled:selectedTypes&&selectedTypes.length!==0&&!selectedTypes.includes('acoustic')&&!selectedTypes.includes('electric'),onChange:function onChange(){dispatch(setSelectedStrings(6));navigate(AppRoute.Page1);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"6-strings\",children:\"6\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-checkbox catalog-filter__block-item\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"visually-hidden\",type:\"checkbox\",id:\"7-strings\",name:\"7-strings\",checked:selectedStrings&&selectedStrings.includes(7),disabled:selectedTypes&&selectedTypes.length!==0&&!selectedTypes.includes('acoustic')&&!selectedTypes.includes('electric'),onChange:function onChange(){dispatch(setSelectedStrings(7));navigate(AppRoute.Page1);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"7-strings\",children:\"7\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-checkbox catalog-filter__block-item\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"visually-hidden\",type:\"checkbox\",id:\"12-strings\",name:\"12-strings\",checked:selectedStrings&&selectedStrings.includes(12),disabled:selectedTypes&&selectedTypes.length!==0&&!selectedTypes.includes('acoustic'),onChange:function onChange(){dispatch(setSelectedStrings(12));navigate(AppRoute.Page1);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"12-strings\",children:\"12\"})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"catalog-filter__reset-btn button button--black-border button--medium\",type:\"reset\",onClick:function onClick(){navigate(AppRoute.Page1);dispatch(setMinPrice(null));dispatch(setMaxPrice(null));dispatch(setSelectedStrings(null));dispatch(setSelectedTypes(null));},children:\"\\u041E\\u0447\\u0438\\u0441\\u0442\\u0438\\u0442\\u044C\"})]});}export default FilterCard;","map":{"version":3,"sources":["/Users/mashkust/react-starter-pack-main/src/components/filter-card.tsx"],"names":["useNavigate","AppRoute","useAppDispatch","useAppSelector","setMaxPrice","setMinPrice","setSelectedStrings","setSelectedTypes","FilterCard","guitars","DATA","maxPrice","minPrice","selectedTypes","selectedStrings","dispatch","navigate","arrPrice","slice","map","el","price","max","Math","min","compareValues","Number","String","evt","key","preventDefault","currentTarget","value","Page1","includes","length"],"mappings":"qIAAA,OAASA,WAAT,KAA4B,kBAA5B,CACA,OAASC,QAAT,KAAyB,UAAzB,CACA,OAASC,cAAT,CAAyBC,cAAzB,KAA+C,gBAA/C,CACA,OAASC,WAAT,CAAsBC,WAAtB,CAAmCC,kBAAnC,CAAuDC,gBAAvD,KAA+E,sBAA/E,C,wFAEA,QAASC,CAAAA,UAAT,EAAmC,CACjC,GAAMC,CAAAA,OAAO,CAAGN,cAAc,CAAC,kBAAGO,CAAAA,IAAH,MAAGA,IAAH,OAAcA,CAAAA,IAAI,CAACD,OAAnB,EAAD,CAA9B,CACA,oBAA6DN,cAAc,CAAC,mBAAGO,CAAAA,IAAH,OAAGA,IAAH,OAAcA,CAAAA,IAAd,EAAD,CAA3E,CAAOC,QAAP,iBAAOA,QAAP,CAAiBC,QAAjB,iBAAiBA,QAAjB,CAA2BC,aAA3B,iBAA2BA,aAA3B,CAA0CC,eAA1C,iBAA0CA,eAA1C,CACA,GAAMC,CAAAA,QAAQ,CAAGb,cAAc,EAA/B,CACA,GAAMc,CAAAA,QAAQ,CAAGhB,WAAW,EAA5B,CAEA,GAAMiB,CAAAA,QAAQ,CAAGR,OAAO,CAACS,KAAR,GAAgBC,GAAhB,CAAoB,SAACC,EAAD,QAAOA,CAAAA,EAAE,CAACC,KAAV,EAApB,CAAjB,CACA,GAAMC,CAAAA,GAAG,CAAGC,IAAI,CAACD,GAAL,OAAAC,IAAI,oBAAQN,QAAR,EAAhB,CACA,GAAMO,CAAAA,GAAG,CAAGD,IAAI,CAACC,GAAL,OAAAD,IAAI,oBAAQN,QAAR,EAAhB,CACA,GAAMQ,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAC1B,GAAIC,MAAM,CAACf,QAAD,CAAN,CAAmBe,MAAM,CAACd,QAAD,CAAzB,EAAuCD,QAAQ,GAAK,IAApD,EAA4DC,QAAQ,GAAK,IAA7E,CAAmF,CACjF,GAAIc,MAAM,CAACf,QAAD,CAAN,CAAmBa,GAAvB,CAA4B,CAC1BT,QAAQ,CAACX,WAAW,CAACuB,MAAM,CAACH,GAAD,CAAP,CAAZ,CAAR,CACD,CAFD,IAGK,IAAIE,MAAM,CAACd,QAAD,CAAN,CAAmBU,GAAvB,CAA4B,CAC/BP,QAAQ,CAACV,WAAW,CAACsB,MAAM,CAACL,GAAD,CAAP,CAAZ,CAAR,CACD,CAFI,IAGA,CACHP,QAAQ,CAACX,WAAW,CAACQ,QAAD,CAAZ,CAAR,CACAG,QAAQ,CAACV,WAAW,CAACM,QAAD,CAAZ,CAAR,CACD,CACF,CACF,CAbD,CAeA,mBACE,cAAM,SAAS,CAAC,gBAAhB,wBACE,WAAI,SAAS,CAAC,2CAAd,kDADF,cAEE,kBAAU,SAAS,CAAC,uBAApB,wBACE,eAAQ,SAAS,CAAC,6BAAlB,8CADF,cAEE,aAAK,SAAS,CAAC,6BAAf,wBACE,aAAK,SAAS,CAAC,YAAf,wBACE,cAAO,SAAS,CAAC,iBAAjB,yGADF,cAEE,cAAO,IAAI,CAAC,QAAZ,CAAqB,WAAW,CAAEgB,MAAM,CAACH,GAAD,CAAxC,CAA+C,EAAE,CAAC,UAAlD,CAA6D,IAAI,CAAC,cAAlE,CAAuE,GAAG,CAAC,GAA3E,CAA+E,KAAK,CAAEZ,QAAQ,EAAI,EAAlG,CACE,UAAU,CAAE,oBAACgB,GAAD,CAAS,CACnB,GAAOC,CAAAA,GAAP,CAAcD,GAAd,CAAOC,GAAP,CACA,GAAIA,GAAG,GAAK,GAAR,EAAeA,GAAG,GAAK,GAAvB,EAA6BA,GAAG,GAAK,GAArC,EAA4CA,GAAG,GAAK,GAAxD,CAA6D,CAC3DD,GAAG,CAACE,cAAJ,GACD,CAAC,CALN,CAME,QAAQ,CAAE,kBAACF,GAAD,QAAUb,CAAAA,QAAQ,CAACV,WAAW,CAACuB,GAAG,CAACG,aAAJ,CAAkBC,KAAnB,CAAZ,CAAlB,EANZ,CAOE,MAAM,CAAI,iBAAK,CACb,GAAIN,MAAM,CAACd,QAAD,CAAN,CAAmBY,GAAnB,EAA0Bb,QAAQ,GAAK,IAA3C,CAAiD,CAC/CI,QAAQ,CAACV,WAAW,CAACsB,MAAM,CAACH,GAAD,CAAP,CAAZ,CAAR,CACD,CACD,GAAIE,MAAM,CAACd,QAAD,CAAN,CAAmBU,GAAvB,CAA6B,CAC3BP,QAAQ,CAACV,WAAW,CAACsB,MAAM,CAACL,GAAD,CAAP,CAAZ,CAAR,CACD,CACDG,aAAa,GACbT,QAAQ,CAACf,QAAQ,CAACgC,KAAV,CAAR,CACD,CAhBH,EAFF,GADF,cAsBE,aAAK,SAAS,CAAC,YAAf,wBACE,cAAO,SAAS,CAAC,iBAAjB,+GADF,cAEE,cAAO,IAAI,CAAC,QAAZ,CAAqB,WAAW,CAAEN,MAAM,CAACL,GAAD,CAAxC,CAA+C,EAAE,CAAC,UAAlD,CAA6D,IAAI,CAAC,cAAlE,CAAuE,GAAG,CAAC,GAA3E,CAA+E,KAAK,CAAEX,QAAQ,EAAI,EAAlG,CACE,UAAU,CAAE,oBAACiB,GAAD,CAAS,CACnB,GAAOC,CAAAA,GAAP,CAAcD,GAAd,CAAOC,GAAP,CACA,GAAIA,GAAG,GAAK,GAAR,EAAeA,GAAG,GAAK,GAAvB,EAA8BA,GAAG,GAAK,GAAtC,EAA6CA,GAAG,GAAK,GAAzD,CAA8D,CAC5DD,GAAG,CAACE,cAAJ,GACD,CAAC,CALN,CAME,QAAQ,CAAE,kBAACF,GAAD,CAAS,CACjBb,QAAQ,CAACX,WAAW,CAACwB,GAAG,CAACG,aAAJ,CAAkBC,KAAnB,CAAZ,CAAR,CACD,CARH,CASE,MAAM,CAAI,iBAAK,CACb,GAAIN,MAAM,CAACf,QAAD,CAAN,CAAmBW,GAAvB,CAA6B,CAC3BP,QAAQ,CAACX,WAAW,CAACuB,MAAM,CAACL,GAAD,CAAP,CAAZ,CAAR,CACD,CACD,GAAII,MAAM,CAACf,QAAD,CAAN,CAAmBa,GAAnB,EAA0Bb,QAAQ,GAAK,IAA3C,CAAiD,CAC/CI,QAAQ,CAACX,WAAW,CAACuB,MAAM,CAACH,GAAD,CAAP,CAAZ,CAAR,CACD,CACDC,aAAa,GACbT,QAAQ,CAACf,QAAQ,CAACgC,KAAV,CAAR,CACD,CAlBH,EAFF,GAtBF,GAFF,GAFF,cAmDE,kBAAU,SAAS,CAAC,uBAApB,wBACE,eAAQ,SAAS,CAAC,6BAAlB,+DADF,cAEE,aAAK,SAAS,CAAC,0CAAf,wBACE,cAAO,SAAS,CAAC,iBAAjB,CAAmC,IAAI,CAAC,UAAxC,CAAmD,EAAE,CAAC,UAAtD,CAAiE,IAAI,CAAC,UAAtE,CAAiF,OAAO,CAAEpB,aAAa,EAAIA,aAAa,CAACqB,QAAd,CAAuB,UAAvB,CAA3G,CACE,QAAQ,CAAI,mBAAK,CACfnB,QAAQ,CAACR,gBAAgB,CAAC,UAAD,CAAjB,CAAR,CACAS,QAAQ,CAACf,QAAQ,CAACgC,KAAV,CAAR,CACD,CAJH,EADF,cAOE,cAAO,OAAO,CAAC,UAAf,2HAPF,GAFF,cAWE,aAAK,SAAS,CAAC,0CAAf,wBACE,cAAO,SAAS,CAAC,iBAAjB,CAAmC,IAAI,CAAC,UAAxC,CAAmD,EAAE,CAAC,UAAtD,CAAiE,IAAI,CAAC,UAAtE,CAAiF,OAAO,CAAEpB,aAAa,EAAIA,aAAa,CAACqB,QAAd,CAAuB,UAAvB,CAA3G,CACE,QAAQ,CAAI,mBAAK,CACfnB,QAAQ,CAACR,gBAAgB,CAAC,UAAD,CAAjB,CAAR,CACAS,QAAQ,CAACf,QAAQ,CAACgC,KAAV,CAAR,CACD,CAJH,EADF,cAOE,cAAO,OAAO,CAAC,UAAf,4FAPF,GAXF,cAoBE,aAAK,SAAS,CAAC,0CAAf,wBACE,cAAO,SAAS,CAAC,iBAAjB,CAAmC,IAAI,CAAC,UAAxC,CAAmD,EAAE,CAAC,SAAtD,CAAgE,IAAI,CAAC,SAArE,CAA+E,OAAO,CAAEpB,aAAa,EAAIA,aAAa,CAACqB,QAAd,CAAuB,SAAvB,CAAzG,CACE,QAAQ,CAAI,mBAAK,CACfnB,QAAQ,CAACR,gBAAgB,CAAC,SAAD,CAAjB,CAAR,CACAS,QAAQ,CAACf,QAAQ,CAACgC,KAAV,CAAR,CACD,CAJH,EADF,cAOE,cAAO,OAAO,CAAC,SAAf,wDAPF,GApBF,GAnDF,cAiFE,kBAAU,SAAS,CAAC,uBAApB,wBACE,eAAQ,SAAS,CAAC,6BAAlB,yGADF,cAEE,aAAK,SAAS,CAAC,0CAAf,wBACE,cAAO,SAAS,CAAC,iBAAjB,CAAmC,IAAI,CAAC,UAAxC,CAAmD,EAAE,CAAC,WAAtD,CAAkE,IAAI,CAAC,WAAvE,CAAmF,OAAO,CAAEnB,eAAe,EAAIA,eAAe,CAACoB,QAAhB,CAAyB,CAAzB,CAA/G,CAA6I,QAAQ,CAAGrB,aAAa,EAAIA,aAAa,CAACsB,MAAd,GAAwB,CAAzC,EAA8C,CAACtB,aAAa,CAACqB,QAAd,CAAuB,SAAvB,CAA/C,EAAoF,CAACrB,aAAa,CAACqB,QAAd,CAAuB,UAAvB,CAA7O,CACE,QAAQ,CAAI,mBAAK,CACfnB,QAAQ,CAACT,kBAAkB,CAAC,CAAD,CAAnB,CAAR,CACAU,QAAQ,CAACf,QAAQ,CAACgC,KAAV,CAAR,CACD,CAJH,EADF,cAOE,cAAO,OAAO,CAAC,WAAf,eAPF,GAFF,cAWE,aAAK,SAAS,CAAC,0CAAf,wBACE,cAAO,SAAS,CAAC,iBAAjB,CAAmC,IAAI,CAAC,UAAxC,CAAmD,EAAE,CAAC,WAAtD,CAAkE,IAAI,CAAC,WAAvE,CAAmF,OAAO,CAAEnB,eAAe,EAAIA,eAAe,CAACoB,QAAhB,CAAyB,CAAzB,CAA/G,CAA4I,QAAQ,CAAGrB,aAAa,EAAIA,aAAa,CAACsB,MAAd,GAAwB,CAAzC,EAA8C,CAACtB,aAAa,CAACqB,QAAd,CAAuB,UAAvB,CAA/C,EAAqF,CAACrB,aAAa,CAACqB,QAAd,CAAuB,UAAvB,CAA7O,CACE,QAAQ,CAAI,mBAAK,CACfnB,QAAQ,CAACT,kBAAkB,CAAC,CAAD,CAAnB,CAAR,CACAU,QAAQ,CAACf,QAAQ,CAACgC,KAAV,CAAR,CACD,CAJH,EADF,cAOE,cAAO,OAAO,CAAC,WAAf,eAPF,GAXF,cAoBE,aAAK,SAAS,CAAC,0CAAf,wBACE,cAAO,SAAS,CAAC,iBAAjB,CAAmC,IAAI,CAAC,UAAxC,CAAmD,EAAE,CAAC,WAAtD,CAAkE,IAAI,CAAC,WAAvE,CAAmF,OAAO,CAAEnB,eAAe,EAAIA,eAAe,CAACoB,QAAhB,CAAyB,CAAzB,CAA/G,CAA4I,QAAQ,CAAGrB,aAAa,EAAIA,aAAa,CAACsB,MAAd,GAAwB,CAAzC,EAA8C,CAACtB,aAAa,CAACqB,QAAd,CAAuB,UAAvB,CAA/C,EAAqF,CAACrB,aAAa,CAACqB,QAAd,CAAuB,UAAvB,CAA7O,CACE,QAAQ,CAAI,mBAAK,CACfnB,QAAQ,CAACT,kBAAkB,CAAC,CAAD,CAAnB,CAAR,CACAU,QAAQ,CAACf,QAAQ,CAACgC,KAAV,CAAR,CACD,CAJH,EADF,cAOE,cAAO,OAAO,CAAC,WAAf,eAPF,GApBF,cA6BE,aAAK,SAAS,CAAC,0CAAf,wBACE,cAAO,SAAS,CAAC,iBAAjB,CAAmC,IAAI,CAAC,UAAxC,CAAmD,EAAE,CAAC,YAAtD,CAAmE,IAAI,CAAC,YAAxE,CAAqF,OAAO,CAAEnB,eAAe,EAAIA,eAAe,CAACoB,QAAhB,CAAyB,EAAzB,CAAjH,CAA+I,QAAQ,CAAGrB,aAAa,EAAIA,aAAa,CAACsB,MAAd,GAAwB,CAAzC,EAA8C,CAACtB,aAAa,CAACqB,QAAd,CAAuB,UAAvB,CAAzM,CACE,QAAQ,CAAI,mBAAK,CACfnB,QAAQ,CAACT,kBAAkB,CAAC,EAAD,CAAnB,CAAR,CACAU,QAAQ,CAACf,QAAQ,CAACgC,KAAV,CAAR,CACD,CAJH,EADF,cAOE,cAAO,OAAO,CAAC,YAAf,gBAPF,GA7BF,GAjFF,cAwHE,eAAQ,SAAS,CAAC,sEAAlB,CAAyF,IAAI,CAAC,OAA9F,CACE,OAAO,CAAE,kBAAI,CACXjB,QAAQ,CAACf,QAAQ,CAACgC,KAAV,CAAR,CACAlB,QAAQ,CAACV,WAAW,CAAC,IAAD,CAAZ,CAAR,CACAU,QAAQ,CAACX,WAAW,CAAC,IAAD,CAAZ,CAAR,CACAW,QAAQ,CAACT,kBAAkB,CAAC,IAAD,CAAnB,CAAR,CACAS,QAAQ,CAACR,gBAAgB,CAAC,IAAD,CAAjB,CAAR,CACD,CAPH,8DAxHF,GADF,CAqID,CAED,cAAeC,CAAAA,UAAf","sourcesContent":["import { useNavigate } from 'react-router-dom';\nimport { AppRoute } from '../const';\nimport { useAppDispatch, useAppSelector } from '../hooks/hooks';\nimport { setMaxPrice, setMinPrice, setSelectedStrings, setSelectedTypes } from '../store/guitar-data';\n\nfunction FilterCard(): JSX.Element {\n  const guitars = useAppSelector(({ DATA }) => DATA.guitars);\n  const {maxPrice, minPrice, selectedTypes, selectedStrings} = useAppSelector(({ DATA }) => DATA);\n  const dispatch = useAppDispatch();\n  const navigate = useNavigate();\n\n  const arrPrice = guitars.slice().map((el)=> el.price);\n  const max = Math.max(...arrPrice);\n  const min = Math.min(...arrPrice);\n  const compareValues = () => {\n    if (Number(maxPrice) < Number(minPrice) && maxPrice !== null && minPrice !== null) {\n      if (Number(maxPrice) < min) {\n        dispatch(setMaxPrice(String(min)));\n      }\n      else if (Number(minPrice) > max) {\n        dispatch(setMinPrice(String(max)));\n      }\n      else {\n        dispatch(setMaxPrice(minPrice));\n        dispatch(setMinPrice(maxPrice));\n      }\n    }\n  };\n\n  return (\n    <form className=\"catalog-filter\">\n      <h2 className=\"title title--bigger catalog-filter__title\">Фильтр</h2>\n      <fieldset className=\"catalog-filter__block\">\n        <legend className=\"catalog-filter__block-title\">Цена, ₽</legend>\n        <div className=\"catalog-filter__price-range\">\n          <div className=\"form-input\">\n            <label className=\"visually-hidden\">Минимальная цена</label>\n            <input type=\"number\" placeholder={String(min)} id=\"priceMin\" name=\"от\" min=\"0\" value={minPrice || ''}\n              onKeyPress={(evt) => {\n                const {key} = evt;\n                if (key === '-' || key === '.'|| key === 'e' || key === ',') {\n                  evt.preventDefault();\n                }}}\n              onChange={(evt) =>  dispatch(setMinPrice(evt.currentTarget.value))}\n              onBlur = {()=> {\n                if (Number(minPrice) < min && maxPrice !== null) {\n                  dispatch(setMinPrice(String(min)));\n                }\n                if (Number(minPrice) > max ) {\n                  dispatch(setMinPrice(String(max)));\n                }\n                compareValues();\n                navigate(AppRoute.Page1);\n              }}\n            />\n          </div>\n          <div className=\"form-input\">\n            <label className=\"visually-hidden\">Максимальная цена</label>\n            <input type=\"number\" placeholder={String(max)} id=\"priceMax\" name=\"до\" min=\"0\" value={maxPrice || ''}\n              onKeyPress={(evt) => {\n                const {key} = evt;\n                if (key === '-' || key === '.' || key === 'e' || key === ',') {\n                  evt.preventDefault();\n                }}}\n              onChange={(evt) => {\n                dispatch(setMaxPrice(evt.currentTarget.value));\n              }}\n              onBlur = {()=> {\n                if (Number(maxPrice) > max ) {\n                  dispatch(setMaxPrice(String(max)));\n                }\n                if (Number(maxPrice) < min && maxPrice !== null) {\n                  dispatch(setMaxPrice(String(min)));\n                }\n                compareValues();\n                navigate(AppRoute.Page1);\n              }}\n            />\n          </div>\n        </div>\n      </fieldset>\n      <fieldset className=\"catalog-filter__block\">\n        <legend className=\"catalog-filter__block-title\">Тип гитар</legend>\n        <div className=\"form-checkbox catalog-filter__block-item\">\n          <input className=\"visually-hidden\" type=\"checkbox\" id=\"acoustic\" name=\"acoustic\" checked={selectedTypes && selectedTypes.includes('acoustic')}\n            onChange = {()=> {\n              dispatch(setSelectedTypes('acoustic'));\n              navigate(AppRoute.Page1);\n            }}\n          />\n          <label htmlFor=\"acoustic\">Акустические гитары</label>\n        </div>\n        <div className=\"form-checkbox catalog-filter__block-item\">\n          <input className=\"visually-hidden\" type=\"checkbox\" id=\"electric\" name=\"electric\" checked={selectedTypes && selectedTypes.includes('electric')}\n            onChange = {()=> {\n              dispatch(setSelectedTypes('electric'));\n              navigate(AppRoute.Page1);\n            }}\n          />\n          <label htmlFor=\"electric\">Электрогитары</label>\n        </div>\n        <div className=\"form-checkbox catalog-filter__block-item\">\n          <input className=\"visually-hidden\" type=\"checkbox\" id=\"ukulele\" name=\"ukulele\" checked={selectedTypes && selectedTypes.includes('ukulele')}\n            onChange = {()=> {\n              dispatch(setSelectedTypes('ukulele'));\n              navigate(AppRoute.Page1);\n            }}\n          />\n          <label htmlFor=\"ukulele\">Укулеле</label>\n        </div>\n      </fieldset>\n      <fieldset className=\"catalog-filter__block\">\n        <legend className=\"catalog-filter__block-title\">Количество струн</legend>\n        <div className=\"form-checkbox catalog-filter__block-item\">\n          <input className=\"visually-hidden\" type=\"checkbox\" id=\"4-strings\" name=\"4-strings\" checked={selectedStrings && selectedStrings.includes(4)}  disabled={ selectedTypes && selectedTypes.length !==0 && !selectedTypes.includes('ukulele') && !selectedTypes.includes('electric')}\n            onChange = {()=> {\n              dispatch(setSelectedStrings(4));\n              navigate(AppRoute.Page1);\n            }}\n          />\n          <label htmlFor=\"4-strings\">4</label>\n        </div>\n        <div className=\"form-checkbox catalog-filter__block-item\">\n          <input className=\"visually-hidden\" type=\"checkbox\" id=\"6-strings\" name=\"6-strings\" checked={selectedStrings && selectedStrings.includes(6)} disabled={ selectedTypes && selectedTypes.length !==0 && !selectedTypes.includes('acoustic') && !selectedTypes.includes('electric')}\n            onChange = {()=> {\n              dispatch(setSelectedStrings(6));\n              navigate(AppRoute.Page1);\n            }}\n          />\n          <label htmlFor=\"6-strings\">6</label>\n        </div>\n        <div className=\"form-checkbox catalog-filter__block-item\">\n          <input className=\"visually-hidden\" type=\"checkbox\" id=\"7-strings\" name=\"7-strings\" checked={selectedStrings && selectedStrings.includes(7)} disabled={ selectedTypes && selectedTypes.length !==0 && !selectedTypes.includes('acoustic') && !selectedTypes.includes('electric')}\n            onChange = {()=> {\n              dispatch(setSelectedStrings(7));\n              navigate(AppRoute.Page1);\n            }}\n          />\n          <label htmlFor=\"7-strings\">7</label>\n        </div>\n        <div className=\"form-checkbox catalog-filter__block-item\">\n          <input className=\"visually-hidden\" type=\"checkbox\" id=\"12-strings\" name=\"12-strings\" checked={selectedStrings && selectedStrings.includes(12)} disabled={ selectedTypes && selectedTypes.length !==0 && !selectedTypes.includes('acoustic')}\n            onChange = {()=> {\n              dispatch(setSelectedStrings(12));\n              navigate(AppRoute.Page1);\n            }}\n          />\n          <label htmlFor=\"12-strings\">12</label>\n        </div>\n      </fieldset>\n      <button className=\"catalog-filter__reset-btn button button--black-border button--medium\" type=\"reset\"\n        onClick={()=>{\n          navigate(AppRoute.Page1);\n          dispatch(setMinPrice(null));\n          dispatch(setMaxPrice(null));\n          dispatch(setSelectedStrings(null));\n          dispatch(setSelectedTypes(null));\n        }}\n      >Очистить\n      </button>\n    </form>\n  );\n}\n\nexport default FilterCard;\n"]},"metadata":{},"sourceType":"module"}