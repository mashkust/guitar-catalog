{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport { NameSpace } from '../const';\nconst initialState = {\n  guitars: [],\n  guitarsRating: [],\n  guitarsPrice: [],\n  guitar: null,\n  comments: [],\n  isDataLoaded: false,\n  isDataSending: false,\n  isSuccessModalOpened: false,\n  isCommentModalOpened: false,\n  isSorting: ''\n};\nexport const guitarData = createSlice({\n  name: NameSpace.data,\n  initialState,\n  reducers: {\n    setIsSuccessModalOpened: (state, action) => {\n      state.isSuccessModalOpened = action.payload;\n    },\n    setIsCommentModalOpened: (state, action) => {\n      state.isCommentModalOpened = action.payload;\n    },\n    setIsSorting: (state, action) => {\n      state.isSorting = action.payload;\n    },\n    loadGuitars: (state, action) => {\n      state.guitars = action.payload;\n      state.isDataLoaded = true;\n    },\n    loadGuitarsRating: (state, action) => {\n      state.guitarsRating = action.payload;\n    },\n    loadGuitarsPrice: (state, action) => {\n      state.guitarsPrice = action.payload;\n    },\n    loadGuitar: (state, action) => {\n      state.guitar = action.payload;\n    },\n    loadComments: (state, action) => {\n      state.comments = action.payload.sort((a, b) => new Date(b.createAt).getTime() - new Date(a.createAt).getTime());\n\n      if (action.payload[0]) {\n        const first = action.payload[0];\n\n        if (action.payload.every(el => Number(el.guitarId) === Number(first.guitarId))) {\n          const guitar = state.guitars.find(el => Number(el.id) === Number(first.guitarId));\n\n          if (guitar) {\n            guitar.commentsCount = action.payload.length;\n          }\n        }\n      }\n    },\n    sendComment: (state, action) => {\n      state.isDataSending = action.payload;\n    }\n  }\n});\nexport const {\n  loadGuitars,\n  loadGuitar,\n  loadComments,\n  sendComment,\n  setIsSuccessModalOpened,\n  setIsCommentModalOpened,\n  loadGuitarsRating,\n  loadGuitarsPrice,\n  setIsSorting\n} = guitarData.actions;","map":{"version":3,"sources":["/Users/mashkust/react-starter-pack-main/src/store/guitar-data.ts"],"names":["createSlice","NameSpace","initialState","guitars","guitarsRating","guitarsPrice","guitar","comments","isDataLoaded","isDataSending","isSuccessModalOpened","isCommentModalOpened","isSorting","guitarData","name","data","reducers","setIsSuccessModalOpened","state","action","payload","setIsCommentModalOpened","setIsSorting","loadGuitars","loadGuitarsRating","loadGuitarsPrice","loadGuitar","loadComments","sort","a","b","Date","createAt","getTime","first","every","el","Number","guitarId","find","id","commentsCount","length","sendComment","actions"],"mappings":"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","sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\nimport { GuitarData } from '../types/types';\nimport { NameSpace } from '../const';\nimport type { Comment } from './../types/types';\nconst initialState: GuitarData = {\n  guitars: [],\n  guitarsRating: [],\n  guitarsPrice: [],\n  guitar: null,\n  comments: [],\n  isDataLoaded: false,\n  isDataSending: false,\n  isSuccessModalOpened: false,\n  isCommentModalOpened: false,\n  isSorting: '',\n};\n\n\nexport const guitarData = createSlice({\n  name: NameSpace.data,\n  initialState,\n  reducers: {\n    setIsSuccessModalOpened: (state, action: { payload: boolean }) => {\n      state.isSuccessModalOpened = action.payload;\n    },\n    setIsCommentModalOpened: (state, action: { payload: boolean }) => {\n      state.isCommentModalOpened = action.payload;\n    },\n    setIsSorting: (state, action) => {\n      state.isSorting = action.payload;\n    },\n    loadGuitars: (state, action) => {\n      state.guitars = action.payload;\n      state.isDataLoaded = true;\n    },\n    loadGuitarsRating: (state, action) => {\n      state.guitarsRating = action.payload;\n    },\n    loadGuitarsPrice: (state, action) => {\n      state.guitarsPrice = action.payload;\n    },\n    loadGuitar: (state, action) => {\n      state.guitar = action.payload;\n    },\n    loadComments: (state, action: { payload: Comment[] }) => {\n      state.comments = action.payload.sort((a, b) => new Date(b.createAt).getTime() - new Date(a.createAt).getTime());\n      if (action.payload[0]) {\n        const first = action.payload[0];\n        if (action.payload.every((el) => Number(el.guitarId) === Number(first.guitarId))) {\n          const guitar = state.guitars.find((el) =>  Number(el.id) === Number(first.guitarId));\n          if (guitar) {\n            guitar.commentsCount = action.payload.length;\n          }\n        }\n      }\n    },\n    sendComment: (state, action) => {\n      state.isDataSending = action.payload;\n    },\n  },\n});\n\nexport const {\n  loadGuitars,\n  loadGuitar,\n  loadComments,\n  sendComment,\n  setIsSuccessModalOpened,\n  setIsCommentModalOpened,\n  loadGuitarsRating,\n  loadGuitarsPrice,\n  setIsSorting,\n} = guitarData.actions;\n"]},"metadata":{},"sourceType":"module"}