{"ast":null,"code":"import{useDispatch}from'react-redux';import{TYPES}from'../const';import{setIsBasketRemoval,setIsGuitar,setQuantity,setQuantityText}from'../store/guitar-data';import{inputProhibition,insertProhibition,pasrePrice}from'../utils';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function BasketCard(_ref){var guitar=_ref.guitar;var id=guitar.id,name=guitar.name,vendorCode=guitar.vendorCode,type=guitar.type,stringCount=guitar.stringCount,price=guitar.price,previewImg=guitar.previewImg;var dispatch=useDispatch();return/*#__PURE__*/_jsxs(\"div\",{className:\"cart-item\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"cart-item__close-button button-cross\",type:\"button\",\"aria-label\":\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\",onClick:function onClick(){dispatch(setIsBasketRemoval(true));dispatch(setIsGuitar(guitar));},children:[/*#__PURE__*/_jsx(\"span\",{className:\"button-cross__icon\"}),/*#__PURE__*/_jsx(\"span\",{className:\"cart-item__close-button-interactive-area\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-item__image\",children:/*#__PURE__*/_jsx(\"img\",{src:\"img/content/\".concat(previewImg.length&&previewImg.slice(0).substring(4)),srcSet:\"img/content/\".concat(previewImg.length&&previewImg.slice(0).substring(4,previewImg.length-4),\"@2x.jpg 2x\"),width:\"55\",height:\"130\",alt:name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-info cart-item__info\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"product-info__title\",children:name}),/*#__PURE__*/_jsxs(\"p\",{className:\"product-info__info\",children:[\"\\u0410\\u0440\\u0442\\u0438\\u043A\\u0443\\u043B: \",vendorCode]}),/*#__PURE__*/_jsxs(\"p\",{className:\"product-info__info\",children:[type?TYPES[type]:'',\", \",stringCount,\" \\u0441\\u0442\\u0440\\u0443\\u043D\\u043D\\u0430\\u044F\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-item__price\",children:[pasrePrice(price),\" \\u20BD\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"quantity cart-item__quantity\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"quantity__button\",\"aria-label\":\"\\u0423\\u043C\\u0435\\u043D\\u044C\\u0448\\u0438\\u0442\\u044C \\u043A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E\",onClick:function onClick(){dispatch(setQuantity({id:id,quantity:'decr'}));},children:/*#__PURE__*/_jsx(\"svg\",{width:\"8\",height:\"8\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"use\",{xlinkHref:\"#icon-minus\"})})}),/*#__PURE__*/_jsx(\"input\",{className:\"quantity__input\",type:\"number\",value:guitar.quantity===0?'':String(guitar.quantity),id:\"\".concat(id,\"$-count\"),name:\"\".concat(id,\"$-count\"),step:\"1\",min:\"1\",max:\"99\",onPaste:function onPaste(evt){return inputProhibition(evt);},onKeyPress:function onKeyPress(evt){return insertProhibition(evt);},onChange:function onChange(evt){if(evt.currentTarget.value.length>2){evt.currentTarget.value=evt.currentTarget.value.substring(0,evt.currentTarget.value.length-1);}dispatch(setQuantityText({id:id,quantity:Number(evt.currentTarget.value)}));},onBlur:function onBlur(){if(guitar.quantity===0){dispatch(setQuantityText({id:id,quantity:1}));}}}),/*#__PURE__*/_jsx(\"button\",{className:\"quantity__button\",\"aria-label\":\"\\u0423\\u0432\\u0435\\u043B\\u0438\\u0447\\u0438\\u0442\\u044C \\u043A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E\",onClick:function onClick(){dispatch(setQuantity({id:id,quantity:'inc'}));},children:/*#__PURE__*/_jsx(\"svg\",{width:\"8\",height:\"8\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"use\",{xlinkHref:\"#icon-plus\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-item__price-total\",children:[price*(guitar.quantity||0),\" \\u20BD\"]})]});}export default BasketCard;","map":{"version":3,"sources":["/Users/mashkust/react-starter-pack-main/src/components/basket-card.tsx"],"names":["useDispatch","TYPES","setIsBasketRemoval","setIsGuitar","setQuantity","setQuantityText","inputProhibition","insertProhibition","pasrePrice","BasketCard","guitar","id","name","vendorCode","type","stringCount","price","previewImg","dispatch","length","slice","substring","quantity","String","evt","currentTarget","value","Number"],"mappings":"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","sourcesContent":["import { useDispatch } from 'react-redux';\nimport { TYPES } from '../const';\nimport { setIsBasketRemoval, setIsGuitar, setQuantity, setQuantityText } from '../store/guitar-data';\nimport { Guitar } from '../types/types';\nimport { inputProhibition, insertProhibition, pasrePrice } from '../utils';\n\ntype BasketCardProps = {\n  guitar: Guitar;\n}\n\nfunction BasketCard({ guitar }: BasketCardProps): JSX.Element {\n  const { id, name, vendorCode, type, stringCount, price, previewImg } = guitar;\n  const dispatch = useDispatch();\n\n  return (\n    <div className=\"cart-item\">\n      <button className=\"cart-item__close-button button-cross\" type=\"button\" aria-label=\"Удалить\" onClick={() => {\n        dispatch(setIsBasketRemoval(true));\n        dispatch(setIsGuitar(guitar));\n      }}\n      >\n        <span className=\"button-cross__icon\"></span><span className=\"cart-item__close-button-interactive-area\"></span>\n      </button>\n      <div className=\"cart-item__image\"><img src={`img/content/${previewImg.length && previewImg.slice(0).substring(4)}`} srcSet={`img/content/${previewImg.length && previewImg.slice(0).substring(4, previewImg.length - 4)}@2x.jpg 2x`} width=\"55\" height=\"130\" alt={name} />\n      </div>\n      <div className=\"product-info cart-item__info\">\n        <p className=\"product-info__title\">{name}</p>\n        <p className=\"product-info__info\">Артикул: {vendorCode}</p>\n        <p className=\"product-info__info\">{type ? TYPES[type] : ''}, {stringCount} струнная</p>\n      </div>\n      <div className=\"cart-item__price\">{pasrePrice(price)} ₽</div>\n      <div className=\"quantity cart-item__quantity\">\n        <button className=\"quantity__button\" aria-label=\"Уменьшить количество\" onClick={() => {\n          dispatch(setQuantity({ id, quantity: 'decr' }));\n        }}\n        >\n          <svg width=\"8\" height=\"8\" aria-hidden=\"true\">\n            <use xlinkHref=\"#icon-minus\"></use>\n          </svg>\n        </button>\n        <input className=\"quantity__input\" type=\"number\" value={guitar.quantity === 0 ? '' : String(guitar.quantity)} id={`${id}$-count`} name={`${id}$-count`} step=\"1\" min=\"1\" max=\"99\"\n          onPaste={(evt) => inputProhibition(evt)}\n          onKeyPress={(evt) =>insertProhibition(evt)}\n          onChange={(evt: React.ChangeEvent<HTMLInputElement>) => {\n            if (evt.currentTarget.value.length > 2) {\n              evt.currentTarget.value = evt.currentTarget.value.substring(0, evt.currentTarget.value.length - 1);\n            }\n            dispatch(setQuantityText({ id, quantity: Number(evt.currentTarget.value) }));\n          }}\n          onBlur={() => {\n            if (guitar.quantity === 0) {\n              dispatch(setQuantityText({ id, quantity: 1 }));\n            }\n          }}\n        />\n        <button className=\"quantity__button\" aria-label=\"Увеличить количество\" onClick={() => {\n          dispatch(setQuantity({ id, quantity: 'inc' }));\n        }}\n        >\n          <svg width=\"8\" height=\"8\" aria-hidden=\"true\">\n            <use xlinkHref=\"#icon-plus\"></use>\n          </svg>\n        </button>\n      </div>\n      <div className=\"cart-item__price-total\">{price * (guitar.quantity || 0)} ₽</div>\n    </div>\n  );\n}\n\nexport default BasketCard;\n\n"]},"metadata":{},"sourceType":"module"}