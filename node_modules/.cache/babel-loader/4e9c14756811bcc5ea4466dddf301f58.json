{"ast":null,"code":"import _toConsumableArray from\"/Users/mashkust/react-starter-pack-main/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import{useNavigate}from'react-router-dom';import{AppRoute}from'../const';import hashHistory from'../hash-history';import{useAppDispatch,useAppSelector}from'../hooks/hooks';import{setMaxPrice,setMinPrice,setSelectedStrings,setSelectedTypes}from'../store/guitar-data';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function FilterCard(){var guitars=useAppSelector(function(_ref){var DATA=_ref.DATA;return DATA.guitars;});var _useAppSelector=useAppSelector(function(_ref2){var DATA=_ref2.DATA;return DATA;}),maxPrice=_useAppSelector.maxPrice,minPrice=_useAppSelector.minPrice,selectedTypes=_useAppSelector.selectedTypes,selectedStrings=_useAppSelector.selectedStrings,filteredPriceMax=_useAppSelector.filteredPriceMax,filteredPriceMin=_useAppSelector.filteredPriceMin;var dispatch=useAppDispatch();var navigate=useNavigate();var arrPrice=guitars.slice().map(function(el){return el.price;});var max=Math.max.apply(Math,_toConsumableArray(arrPrice));var min=Math.min.apply(Math,_toConsumableArray(arrPrice));if(filteredPriceMax!==null&&filteredPriceMax!==undefined){max=filteredPriceMax;}if(filteredPriceMin!==null&&filteredPriceMin!==undefined){min=filteredPriceMin;}var compareValues=function compareValues(){if(Number(maxPrice)<Number(minPrice)&&maxPrice!==null&&minPrice!==null){if(Number(maxPrice)<min){dispatch(setMaxPrice(String(min)));}else if(Number(minPrice)>max){dispatch(setMinPrice(String(max)));}else{dispatch(setMaxPrice(minPrice));dispatch(setMinPrice(maxPrice));}}};return/*#__PURE__*/_jsxs(\"form\",{className:\"catalog-filter\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"title title--bigger catalog-filter__title\",children:\"\\u0424\\u0438\\u043B\\u044C\\u0442\\u0440\"}),/*#__PURE__*/_jsxs(\"fieldset\",{className:\"catalog-filter__block\",children:[/*#__PURE__*/_jsx(\"legend\",{className:\"catalog-filter__block-title\",children:\"\\u0426\\u0435\\u043D\\u0430, \\u20BD\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"catalog-filter__price-range\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-input\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"visually-hidden\",children:\"\\u041C\\u0438\\u043D\\u0438\\u043C\\u0430\\u043B\\u044C\\u043D\\u0430\\u044F \\u0446\\u0435\\u043D\\u0430\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:String(min),id:\"priceMin\",name:\"\\u043E\\u0442\",min:\"0\",value:minPrice||'',onKeyPress:function onKeyPress(evt){var key=evt.key;if(key==='-'||key==='.'||key==='e'||key===','){evt.preventDefault();}},onChange:function onChange(evt){return dispatch(setMinPrice(evt.currentTarget.value));},onBlur:function onBlur(){if(Number(minPrice)<min){minPrice!==''?dispatch(setMinPrice(String(min))):dispatch(setMinPrice(''));minPrice!==null&&minPrice!==''?dispatch(setMinPrice(String(min))):dispatch(setMinPrice(''));}if(Number(minPrice)>max){if(minPrice!==''&&maxPrice!==null){dispatch(setMinPrice(maxPrice));}else{dispatch(setMinPrice(String(max)));}}else{compareValues();}navigate({pathname:AppRoute.Page1,search:hashHistory.location.search});}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-input\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"visually-hidden\",children:\"\\u041C\\u0430\\u043A\\u0441\\u0438\\u043C\\u0430\\u043B\\u044C\\u043D\\u0430\\u044F \\u0446\\u0435\\u043D\\u0430\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:String(max),id:\"priceMax\",name:\"\\u0434\\u043E\",min:\"0\",value:maxPrice||'',onKeyPress:function onKeyPress(evt){var key=evt.key;if(key==='-'||key==='.'||key==='e'||key===','){evt.preventDefault();}},onChange:function onChange(evt){dispatch(setMaxPrice(evt.currentTarget.value));},onBlur:function onBlur(){if(Number(maxPrice)>max){dispatch(setMaxPrice(String(max)));}if(Number(maxPrice)<min&&maxPrice!==null){if(minPrice!==''&&minPrice!==null){maxPrice!==''?dispatch(setMaxPrice(minPrice)):dispatch(setMaxPrice(null));}else if(minPrice!==''&&minPrice===null){maxPrice!==''?dispatch(setMaxPrice(String(min))):dispatch(setMaxPrice(null));}}else{compareValues();}navigate({pathname:AppRoute.Page1,search:hashHistory.location.search});}})]})]})]}),/*#__PURE__*/_jsxs(\"fieldset\",{className:\"catalog-filter__block\",children:[/*#__PURE__*/_jsx(\"legend\",{className:\"catalog-filter__block-title\",children:\"\\u0422\\u0438\\u043F \\u0433\\u0438\\u0442\\u0430\\u0440\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-checkbox catalog-filter__block-item\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"visually-hidden\",type:\"checkbox\",id:\"acoustic\",name:\"acoustic\",checked:selectedTypes&&selectedTypes.includes('acoustic'),onChange:function onChange(){dispatch(setSelectedTypes('acoustic'));navigate({pathname:AppRoute.Page1,search:hashHistory.location.search});}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"acoustic\",children:\"\\u0410\\u043A\\u0443\\u0441\\u0442\\u0438\\u0447\\u0435\\u0441\\u043A\\u0438\\u0435 \\u0433\\u0438\\u0442\\u0430\\u0440\\u044B\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-checkbox catalog-filter__block-item\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"visually-hidden\",type:\"checkbox\",id:\"electric\",name:\"electric\",checked:selectedTypes&&selectedTypes.includes('electric'),onChange:function onChange(){dispatch(setSelectedTypes('electric'));navigate({pathname:AppRoute.Page1,search:hashHistory.location.search});}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"electric\",children:\"\\u042D\\u043B\\u0435\\u043A\\u0442\\u0440\\u043E\\u0433\\u0438\\u0442\\u0430\\u0440\\u044B\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-checkbox catalog-filter__block-item\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"visually-hidden\",type:\"checkbox\",id:\"ukulele\",name:\"ukulele\",checked:selectedTypes&&selectedTypes.includes('ukulele'),onChange:function onChange(){dispatch(setSelectedTypes('ukulele'));navigate({pathname:AppRoute.Page1,search:hashHistory.location.search});}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"ukulele\",children:\"\\u0423\\u043A\\u0443\\u043B\\u0435\\u043B\\u0435\"})]})]}),/*#__PURE__*/_jsxs(\"fieldset\",{className:\"catalog-filter__block\",children:[/*#__PURE__*/_jsx(\"legend\",{className:\"catalog-filter__block-title\",children:\"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E \\u0441\\u0442\\u0440\\u0443\\u043D\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-checkbox catalog-filter__block-item\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"visually-hidden\",type:\"checkbox\",id:\"4-strings\",name:\"4-strings\",checked:selectedStrings&&selectedStrings.includes(4),disabled:selectedTypes&&selectedTypes.length!==0&&!selectedTypes.includes('ukulele')&&!selectedTypes.includes('electric'),onChange:function onChange(){dispatch(setSelectedStrings(4));navigate({pathname:AppRoute.Page1,search:hashHistory.location.search});}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"4-strings\",children:\"4\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-checkbox catalog-filter__block-item\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"visually-hidden\",type:\"checkbox\",id:\"6-strings\",name:\"6-strings\",checked:selectedStrings&&selectedStrings.includes(6),disabled:selectedTypes&&selectedTypes.length!==0&&!selectedTypes.includes('acoustic')&&!selectedTypes.includes('electric'),onChange:function onChange(){dispatch(setSelectedStrings(6));navigate({pathname:AppRoute.Page1,search:hashHistory.location.search});}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"6-strings\",children:\"6\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-checkbox catalog-filter__block-item\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"visually-hidden\",type:\"checkbox\",id:\"7-strings\",name:\"7-strings\",checked:selectedStrings&&selectedStrings.includes(7),disabled:selectedTypes&&selectedTypes.length!==0&&!selectedTypes.includes('acoustic')&&!selectedTypes.includes('electric'),onChange:function onChange(){dispatch(setSelectedStrings(7));navigate({pathname:AppRoute.Page1,search:hashHistory.location.search});}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"7-strings\",children:\"7\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-checkbox catalog-filter__block-item\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"visually-hidden\",type:\"checkbox\",id:\"12-strings\",name:\"12-strings\",checked:selectedStrings&&selectedStrings.includes(12),disabled:selectedTypes&&selectedTypes.length!==0&&!selectedTypes.includes('acoustic'),onChange:function onChange(){dispatch(setSelectedStrings(12));navigate({pathname:AppRoute.Page1,search:hashHistory.location.search});}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"12-strings\",children:\"12\"})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"catalog-filter__reset-btn button button--black-border button--medium\",type:\"reset\",onClick:function onClick(){navigate({pathname:AppRoute.Page1,search:hashHistory.location.search});dispatch(setMinPrice(null));dispatch(setMaxPrice(null));dispatch(setSelectedTypes(null));dispatch(setSelectedStrings(null));},children:\"\\u041E\\u0447\\u0438\\u0441\\u0442\\u0438\\u0442\\u044C\"})]});}export default FilterCard;","map":{"version":3,"sources":["/Users/mashkust/react-starter-pack-main/src/components/filter-card.tsx"],"names":["useNavigate","AppRoute","hashHistory","useAppDispatch","useAppSelector","setMaxPrice","setMinPrice","setSelectedStrings","setSelectedTypes","FilterCard","guitars","DATA","maxPrice","minPrice","selectedTypes","selectedStrings","filteredPriceMax","filteredPriceMin","dispatch","navigate","arrPrice","slice","map","el","price","max","Math","min","undefined","compareValues","Number","String","evt","key","preventDefault","currentTarget","value","pathname","Page1","search","location","includes","length"],"mappings":"qIAAA,OAASA,WAAT,KAA4B,kBAA5B,CACA,OAASC,QAAT,KAAyB,UAAzB,CACA,MAAOC,CAAAA,WAAP,KAAwB,iBAAxB,CACA,OAASC,cAAT,CAAyBC,cAAzB,KAA+C,gBAA/C,CACA,OAASC,WAAT,CAAsBC,WAAtB,CAAmCC,kBAAnC,CAAuDC,gBAAvD,KAA+E,sBAA/E,C,wFAEA,QAASC,CAAAA,UAAT,EAAmC,CACjC,GAAMC,CAAAA,OAAO,CAAGN,cAAc,CAAC,kBAAGO,CAAAA,IAAH,MAAGA,IAAH,OAAcA,CAAAA,IAAI,CAACD,OAAnB,EAAD,CAA9B,CACA,oBAAiGN,cAAc,CAAC,mBAAGO,CAAAA,IAAH,OAAGA,IAAH,OAAcA,CAAAA,IAAd,EAAD,CAA/G,CAAQC,QAAR,iBAAQA,QAAR,CAAkBC,QAAlB,iBAAkBA,QAAlB,CAA4BC,aAA5B,iBAA4BA,aAA5B,CAA2CC,eAA3C,iBAA2CA,eAA3C,CAA2DC,gBAA3D,iBAA2DA,gBAA3D,CAA4EC,gBAA5E,iBAA4EA,gBAA5E,CACA,GAAMC,CAAAA,QAAQ,CAAGf,cAAc,EAA/B,CACA,GAAMgB,CAAAA,QAAQ,CAAGnB,WAAW,EAA5B,CAEA,GAAMoB,CAAAA,QAAQ,CAAGV,OAAO,CAACW,KAAR,GAAgBC,GAAhB,CAAoB,SAACC,EAAD,QAAQA,CAAAA,EAAE,CAACC,KAAX,EAApB,CAAjB,CACA,GAAIC,CAAAA,GAAG,CAACC,IAAI,CAACD,GAAL,OAAAC,IAAI,oBAAQN,QAAR,EAAZ,CACA,GAAIO,CAAAA,GAAG,CAACD,IAAI,CAACC,GAAL,OAAAD,IAAI,oBAAQN,QAAR,EAAZ,CAEA,GAAIJ,gBAAgB,GAAI,IAApB,EAA4BA,gBAAgB,GAAIY,SAApD,CACA,CAACH,GAAG,CAACT,gBAAJ,CAAsB,CAEvB,GAAIC,gBAAgB,GAAI,IAApB,EAA4BA,gBAAgB,GAAIW,SAApD,CACA,CAACD,GAAG,CAACV,gBAAJ,CAAsB,CAEvB,GAAMY,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAC1B,GAAIC,MAAM,CAAClB,QAAD,CAAN,CAAmBkB,MAAM,CAACjB,QAAD,CAAzB,EAAuCD,QAAQ,GAAK,IAApD,EAA4DC,QAAQ,GAAK,IAA7E,CAAmF,CACjF,GAAIiB,MAAM,CAAClB,QAAD,CAAN,CAAmBe,GAAvB,CAA4B,CAC1BT,QAAQ,CAACb,WAAW,CAAC0B,MAAM,CAACJ,GAAD,CAAP,CAAZ,CAAR,CACD,CAFD,IAGK,IAAIG,MAAM,CAACjB,QAAD,CAAN,CAAmBY,GAAvB,CAA4B,CAC/BP,QAAQ,CAACZ,WAAW,CAACyB,MAAM,CAACN,GAAD,CAAP,CAAZ,CAAR,CACD,CAFI,IAGA,CACHP,QAAQ,CAACb,WAAW,CAACQ,QAAD,CAAZ,CAAR,CACAK,QAAQ,CAACZ,WAAW,CAACM,QAAD,CAAZ,CAAR,CACD,CACF,CACF,CAbD,CAeA,mBACE,cAAM,SAAS,CAAC,gBAAhB,wBACE,WAAI,SAAS,CAAC,2CAAd,kDADF,cAEE,kBAAU,SAAS,CAAC,uBAApB,wBACE,eAAQ,SAAS,CAAC,6BAAlB,8CADF,cAEE,aAAK,SAAS,CAAC,6BAAf,wBACE,aAAK,SAAS,CAAC,YAAf,wBACE,cAAO,SAAS,CAAC,iBAAjB,yGADF,cAEE,cAAO,IAAI,CAAC,QAAZ,CAAqB,WAAW,CAAEmB,MAAM,CAACJ,GAAD,CAAxC,CAA+C,EAAE,CAAC,UAAlD,CAA6D,IAAI,CAAC,cAAlE,CAAuE,GAAG,CAAC,GAA3E,CAA+E,KAAK,CAAEd,QAAQ,EAAI,EAAlG,CACE,UAAU,CAAE,oBAACmB,GAAD,CAAS,CACnB,GAAQC,CAAAA,GAAR,CAAgBD,GAAhB,CAAQC,GAAR,CACA,GAAIA,GAAG,GAAK,GAAR,EAAeA,GAAG,GAAK,GAAvB,EAA8BA,GAAG,GAAK,GAAtC,EAA6CA,GAAG,GAAK,GAAzD,CAA8D,CAC5DD,GAAG,CAACE,cAAJ,GACD,CACF,CANH,CAOE,QAAQ,CAAE,kBAACF,GAAD,QAASd,CAAAA,QAAQ,CAACZ,WAAW,CAAC0B,GAAG,CAACG,aAAJ,CAAkBC,KAAnB,CAAZ,CAAjB,EAPZ,CAQE,MAAM,CAAE,iBAAM,CACZ,GAAIN,MAAM,CAACjB,QAAD,CAAN,CAAmBc,GAAvB,CAA6B,CAC3Bd,QAAQ,GAAK,EAAb,CAAkBK,QAAQ,CAACZ,WAAW,CAACyB,MAAM,CAACJ,GAAD,CAAP,CAAZ,CAA1B,CAAuDT,QAAQ,CAACZ,WAAW,CAAC,EAAD,CAAZ,CAA/D,CACAO,QAAQ,GAAK,IAAb,EAAqBA,QAAQ,GAAK,EAAlC,CAAuCK,QAAQ,CAACZ,WAAW,CAACyB,MAAM,CAACJ,GAAD,CAAP,CAAZ,CAA/C,CAA4ET,QAAQ,CAACZ,WAAW,CAAC,EAAD,CAAZ,CAApF,CACD,CACD,GAAIwB,MAAM,CAACjB,QAAD,CAAN,CAAmBY,GAAvB,CAA4B,CAC1B,GAAIZ,QAAQ,GAAK,EAAb,EAAmBD,QAAQ,GAAK,IAApC,CAA0C,CAAEM,QAAQ,CAACZ,WAAW,CAACM,QAAD,CAAZ,CAAR,CAAiC,CAA7E,IACK,CAAEM,QAAQ,CAACZ,WAAW,CAACyB,MAAM,CAACN,GAAD,CAAP,CAAZ,CAAR,CAAoC,CAC5C,CAHD,IAGO,CAAEI,aAAa,GAAK,CAC3BV,QAAQ,CAAC,CACPkB,QAAQ,CAAEpC,QAAQ,CAACqC,KADZ,CAEPC,MAAM,CAAErC,WAAW,CAACsC,QAAZ,CAAqBD,MAFtB,CAAD,CAAR,CAID,CArBH,EAFF,GADF,cA2BE,aAAK,SAAS,CAAC,YAAf,wBACE,cAAO,SAAS,CAAC,iBAAjB,+GADF,cAEE,cAAO,IAAI,CAAC,QAAZ,CAAqB,WAAW,CAAER,MAAM,CAACN,GAAD,CAAxC,CAA+C,EAAE,CAAC,UAAlD,CAA6D,IAAI,CAAC,cAAlE,CAAuE,GAAG,CAAC,GAA3E,CAA+E,KAAK,CAAEb,QAAQ,EAAI,EAAlG,CACE,UAAU,CAAE,oBAACoB,GAAD,CAAS,CACnB,GAAQC,CAAAA,GAAR,CAAgBD,GAAhB,CAAQC,GAAR,CACA,GAAIA,GAAG,GAAK,GAAR,EAAeA,GAAG,GAAK,GAAvB,EAA8BA,GAAG,GAAK,GAAtC,EAA6CA,GAAG,GAAK,GAAzD,CAA8D,CAC5DD,GAAG,CAACE,cAAJ,GACD,CACF,CANH,CAOE,QAAQ,CAAE,kBAACF,GAAD,CAAS,CACjBd,QAAQ,CAACb,WAAW,CAAC2B,GAAG,CAACG,aAAJ,CAAkBC,KAAnB,CAAZ,CAAR,CACD,CATH,CAUE,MAAM,CAAE,iBAAM,CACZ,GAAIN,MAAM,CAAClB,QAAD,CAAN,CAAmBa,GAAvB,CAA4B,CAC1BP,QAAQ,CAACb,WAAW,CAAC0B,MAAM,CAACN,GAAD,CAAP,CAAZ,CAAR,CACD,CACD,GAAIK,MAAM,CAAClB,QAAD,CAAN,CAAmBe,GAAnB,EAA0Bf,QAAQ,GAAK,IAA3C,CAAiD,CAC/C,GAAIC,QAAQ,GAAK,EAAb,EAAmBA,QAAQ,GAAK,IAApC,CAA0C,CACxCD,QAAQ,GAAK,EAAb,CAAkBM,QAAQ,CAACb,WAAW,CAACQ,QAAD,CAAZ,CAA1B,CAAoDK,QAAQ,CAACb,WAAW,CAAC,IAAD,CAAZ,CAA5D,CACD,CAFD,IAGK,IAAIQ,QAAQ,GAAK,EAAb,EAAmBA,QAAQ,GAAK,IAApC,CAA0C,CAC7CD,QAAQ,GAAK,EAAb,CAAkBM,QAAQ,CAACb,WAAW,CAAC0B,MAAM,CAACJ,GAAD,CAAP,CAAZ,CAA1B,CAAuDT,QAAQ,CAACb,WAAW,CAAC,IAAD,CAAZ,CAA/D,CACD,CACF,CAPD,IAQK,CAAEwB,aAAa,GAAK,CACzBV,QAAQ,CAAC,CACPkB,QAAQ,CAAEpC,QAAQ,CAACqC,KADZ,CAEPC,MAAM,CAAErC,WAAW,CAACsC,QAAZ,CAAqBD,MAFtB,CAAD,CAAR,CAID,CA3BH,EAFF,GA3BF,GAFF,GAFF,cAiEE,kBAAU,SAAS,CAAC,uBAApB,wBACE,eAAQ,SAAS,CAAC,6BAAlB,+DADF,cAEE,aAAK,SAAS,CAAC,0CAAf,wBACE,cAAO,SAAS,CAAC,iBAAjB,CAAmC,IAAI,CAAC,UAAxC,CAAmD,EAAE,CAAC,UAAtD,CAAiE,IAAI,CAAC,UAAtE,CAAiF,OAAO,CAAEzB,aAAa,EAAIA,aAAa,CAAC2B,QAAd,CAAuB,UAAvB,CAA3G,CACE,QAAQ,CAAE,mBAAM,CACdvB,QAAQ,CAACV,gBAAgB,CAAC,UAAD,CAAjB,CAAR,CACAW,QAAQ,CAAC,CACPkB,QAAQ,CAAEpC,QAAQ,CAACqC,KADZ,CAEPC,MAAM,CAAErC,WAAW,CAACsC,QAAZ,CAAqBD,MAFtB,CAAD,CAAR,CAID,CAPH,EADF,cAUE,cAAO,OAAO,CAAC,UAAf,2HAVF,GAFF,cAcE,aAAK,SAAS,CAAC,0CAAf,wBACE,cAAO,SAAS,CAAC,iBAAjB,CAAmC,IAAI,CAAC,UAAxC,CAAmD,EAAE,CAAC,UAAtD,CAAiE,IAAI,CAAC,UAAtE,CAAiF,OAAO,CAAEzB,aAAa,EAAIA,aAAa,CAAC2B,QAAd,CAAuB,UAAvB,CAA3G,CACE,QAAQ,CAAE,mBAAM,CACdvB,QAAQ,CAACV,gBAAgB,CAAC,UAAD,CAAjB,CAAR,CACAW,QAAQ,CAAC,CACPkB,QAAQ,CAAEpC,QAAQ,CAACqC,KADZ,CAEPC,MAAM,CAAErC,WAAW,CAACsC,QAAZ,CAAqBD,MAFtB,CAAD,CAAR,CAID,CAPH,EADF,cAUE,cAAO,OAAO,CAAC,UAAf,4FAVF,GAdF,cA0BE,aAAK,SAAS,CAAC,0CAAf,wBACE,cAAO,SAAS,CAAC,iBAAjB,CAAmC,IAAI,CAAC,UAAxC,CAAmD,EAAE,CAAC,SAAtD,CAAgE,IAAI,CAAC,SAArE,CAA+E,OAAO,CAAEzB,aAAa,EAAIA,aAAa,CAAC2B,QAAd,CAAuB,SAAvB,CAAzG,CACE,QAAQ,CAAE,mBAAM,CACdvB,QAAQ,CAACV,gBAAgB,CAAC,SAAD,CAAjB,CAAR,CACAW,QAAQ,CAAC,CACPkB,QAAQ,CAAEpC,QAAQ,CAACqC,KADZ,CAEPC,MAAM,CAAErC,WAAW,CAACsC,QAAZ,CAAqBD,MAFtB,CAAD,CAAR,CAID,CAPH,EADF,cAUE,cAAO,OAAO,CAAC,SAAf,wDAVF,GA1BF,GAjEF,cAwGE,kBAAU,SAAS,CAAC,uBAApB,wBACE,eAAQ,SAAS,CAAC,6BAAlB,yGADF,cAEE,aAAK,SAAS,CAAC,0CAAf,wBACE,cAAO,SAAS,CAAC,iBAAjB,CAAmC,IAAI,CAAC,UAAxC,CAAmD,EAAE,CAAC,WAAtD,CAAkE,IAAI,CAAC,WAAvE,CAAmF,OAAO,CAAExB,eAAe,EAAIA,eAAe,CAAC0B,QAAhB,CAAyB,CAAzB,CAA/G,CAA4I,QAAQ,CAAE3B,aAAa,EAAIA,aAAa,CAAC4B,MAAd,GAAyB,CAA1C,EAA+C,CAAC5B,aAAa,CAAC2B,QAAd,CAAuB,SAAvB,CAAhD,EAAqF,CAAC3B,aAAa,CAAC2B,QAAd,CAAuB,UAAvB,CAA5O,CACE,QAAQ,CAAE,mBAAM,CACdvB,QAAQ,CAACX,kBAAkB,CAAC,CAAD,CAAnB,CAAR,CACAY,QAAQ,CAAC,CACPkB,QAAQ,CAAEpC,QAAQ,CAACqC,KADZ,CAEPC,MAAM,CAAErC,WAAW,CAACsC,QAAZ,CAAqBD,MAFtB,CAAD,CAAR,CAID,CAPH,EADF,cAUE,cAAO,OAAO,CAAC,WAAf,eAVF,GAFF,cAcE,aAAK,SAAS,CAAC,0CAAf,wBACE,cAAO,SAAS,CAAC,iBAAjB,CAAmC,IAAI,CAAC,UAAxC,CAAmD,EAAE,CAAC,WAAtD,CAAkE,IAAI,CAAC,WAAvE,CAAmF,OAAO,CAAExB,eAAe,EAAIA,eAAe,CAAC0B,QAAhB,CAAyB,CAAzB,CAA/G,CAA4I,QAAQ,CAAE3B,aAAa,EAAIA,aAAa,CAAC4B,MAAd,GAAyB,CAA1C,EAA+C,CAAC5B,aAAa,CAAC2B,QAAd,CAAuB,UAAvB,CAAhD,EAAsF,CAAC3B,aAAa,CAAC2B,QAAd,CAAuB,UAAvB,CAA7O,CACE,QAAQ,CAAE,mBAAM,CACdvB,QAAQ,CAACX,kBAAkB,CAAC,CAAD,CAAnB,CAAR,CACAY,QAAQ,CAAC,CACPkB,QAAQ,CAAEpC,QAAQ,CAACqC,KADZ,CAEPC,MAAM,CAAErC,WAAW,CAACsC,QAAZ,CAAqBD,MAFtB,CAAD,CAAR,CAID,CAPH,EADF,cAUE,cAAO,OAAO,CAAC,WAAf,eAVF,GAdF,cA0BE,aAAK,SAAS,CAAC,0CAAf,wBACE,cAAO,SAAS,CAAC,iBAAjB,CAAmC,IAAI,CAAC,UAAxC,CAAmD,EAAE,CAAC,WAAtD,CAAkE,IAAI,CAAC,WAAvE,CAAmF,OAAO,CAAExB,eAAe,EAAIA,eAAe,CAAC0B,QAAhB,CAAyB,CAAzB,CAA/G,CAA4I,QAAQ,CAAE3B,aAAa,EAAIA,aAAa,CAAC4B,MAAd,GAAyB,CAA1C,EAA+C,CAAC5B,aAAa,CAAC2B,QAAd,CAAuB,UAAvB,CAAhD,EAAsF,CAAC3B,aAAa,CAAC2B,QAAd,CAAuB,UAAvB,CAA7O,CACE,QAAQ,CAAE,mBAAM,CACdvB,QAAQ,CAACX,kBAAkB,CAAC,CAAD,CAAnB,CAAR,CACAY,QAAQ,CAAC,CACPkB,QAAQ,CAAEpC,QAAQ,CAACqC,KADZ,CAEPC,MAAM,CAAErC,WAAW,CAACsC,QAAZ,CAAqBD,MAFtB,CAAD,CAAR,CAID,CAPH,EADF,cAUE,cAAO,OAAO,CAAC,WAAf,eAVF,GA1BF,cAsCE,aAAK,SAAS,CAAC,0CAAf,wBACE,cAAO,SAAS,CAAC,iBAAjB,CAAmC,IAAI,CAAC,UAAxC,CAAmD,EAAE,CAAC,YAAtD,CAAmE,IAAI,CAAC,YAAxE,CAAqF,OAAO,CAAExB,eAAe,EAAIA,eAAe,CAAC0B,QAAhB,CAAyB,EAAzB,CAAjH,CAA+I,QAAQ,CAAE3B,aAAa,EAAIA,aAAa,CAAC4B,MAAd,GAAyB,CAA1C,EAA+C,CAAC5B,aAAa,CAAC2B,QAAd,CAAuB,UAAvB,CAAzM,CACE,QAAQ,CAAE,mBAAM,CACdvB,QAAQ,CAACX,kBAAkB,CAAC,EAAD,CAAnB,CAAR,CACAY,QAAQ,CAAC,CACPkB,QAAQ,CAAEpC,QAAQ,CAACqC,KADZ,CAEPC,MAAM,CAAErC,WAAW,CAACsC,QAAZ,CAAqBD,MAFtB,CAAD,CAAR,CAID,CAPH,EADF,cAUE,cAAO,OAAO,CAAC,YAAf,gBAVF,GAtCF,GAxGF,cA2JE,eAAQ,SAAS,CAAC,sEAAlB,CAAyF,IAAI,CAAC,OAA9F,CACE,OAAO,CAAE,kBAAM,CACbpB,QAAQ,CAAC,CACPkB,QAAQ,CAAEpC,QAAQ,CAACqC,KADZ,CAEPC,MAAM,CAAErC,WAAW,CAACsC,QAAZ,CAAqBD,MAFtB,CAAD,CAAR,CAIArB,QAAQ,CAACZ,WAAW,CAAC,IAAD,CAAZ,CAAR,CACAY,QAAQ,CAACb,WAAW,CAAC,IAAD,CAAZ,CAAR,CACAa,QAAQ,CAACV,gBAAgB,CAAC,IAAD,CAAjB,CAAR,CACAU,QAAQ,CAACX,kBAAkB,CAAC,IAAD,CAAnB,CAAR,CACD,CAVH,8DA3JF,GADF,CA2KD,CAED,cAAeE,CAAAA,UAAf","sourcesContent":["import { useNavigate } from 'react-router-dom';\nimport { AppRoute } from '../const';\nimport hashHistory from '../hash-history';\nimport { useAppDispatch, useAppSelector } from '../hooks/hooks';\nimport { setMaxPrice, setMinPrice, setSelectedStrings, setSelectedTypes } from '../store/guitar-data';\n\nfunction FilterCard(): JSX.Element {\n  const guitars = useAppSelector(({ DATA }) => DATA.guitars);\n  const { maxPrice, minPrice, selectedTypes, selectedStrings,filteredPriceMax,filteredPriceMin } = useAppSelector(({ DATA }) => DATA);\n  const dispatch = useAppDispatch();\n  const navigate = useNavigate();\n\n  const arrPrice = guitars.slice().map((el) => el.price);\n  let max=Math.max(...arrPrice);\n  let min=Math.min(...arrPrice);\n\n  if (filteredPriceMax!== null && filteredPriceMax!== undefined)\n  {max=filteredPriceMax;}\n\n  if (filteredPriceMin!== null && filteredPriceMin!== undefined)\n  {min=filteredPriceMin;}\n\n  const compareValues = () => {\n    if (Number(maxPrice) < Number(minPrice) && maxPrice !== null && minPrice !== null) {\n      if (Number(maxPrice) < min) {\n        dispatch(setMaxPrice(String(min)));\n      }\n      else if (Number(minPrice) > max) {\n        dispatch(setMinPrice(String(max)));\n      }\n      else {\n        dispatch(setMaxPrice(minPrice));\n        dispatch(setMinPrice(maxPrice));\n      }\n    }\n  };\n\n  return (\n    <form className=\"catalog-filter\">\n      <h2 className=\"title title--bigger catalog-filter__title\">Фильтр</h2>\n      <fieldset className=\"catalog-filter__block\">\n        <legend className=\"catalog-filter__block-title\">Цена, ₽</legend>\n        <div className=\"catalog-filter__price-range\">\n          <div className=\"form-input\">\n            <label className=\"visually-hidden\">Минимальная цена</label>\n            <input type=\"number\" placeholder={String(min)} id=\"priceMin\" name=\"от\" min=\"0\" value={minPrice || ''}\n              onKeyPress={(evt) => {\n                const { key } = evt;\n                if (key === '-' || key === '.' || key === 'e' || key === ',') {\n                  evt.preventDefault();\n                }\n              }}\n              onChange={(evt) => dispatch(setMinPrice(evt.currentTarget.value))}\n              onBlur={() => {\n                if (Number(minPrice) < min ) {\n                  minPrice !== '' ? dispatch(setMinPrice(String(min))) : dispatch(setMinPrice(''));\n                  minPrice !== null && minPrice !== '' ? dispatch(setMinPrice(String(min))) : dispatch(setMinPrice(''));\n                }\n                if (Number(minPrice) > max) {\n                  if (minPrice !== '' && maxPrice !== null) { dispatch(setMinPrice(maxPrice));}\n                  else { dispatch(setMinPrice(String(max)));}\n                } else { compareValues(); }\n                navigate({\n                  pathname: AppRoute.Page1,\n                  search: hashHistory.location.search,\n                });\n              }}\n            />\n          </div>\n          <div className=\"form-input\">\n            <label className=\"visually-hidden\">Максимальная цена</label>\n            <input type=\"number\" placeholder={String(max)} id=\"priceMax\" name=\"до\" min=\"0\" value={maxPrice || ''}\n              onKeyPress={(evt) => {\n                const { key } = evt;\n                if (key === '-' || key === '.' || key === 'e' || key === ',') {\n                  evt.preventDefault();\n                }\n              }}\n              onChange={(evt) => {\n                dispatch(setMaxPrice(evt.currentTarget.value));\n              }}\n              onBlur={() => {\n                if (Number(maxPrice) > max) {\n                  dispatch(setMaxPrice(String(max)));\n                }\n                if (Number(maxPrice) < min && maxPrice !== null) {\n                  if (minPrice !== '' && minPrice !== null) {\n                    maxPrice !== '' ? dispatch(setMaxPrice(minPrice)) : dispatch(setMaxPrice(null));\n                  }\n                  else if (minPrice !== '' && minPrice === null) {\n                    maxPrice !== '' ? dispatch(setMaxPrice(String(min))) : dispatch(setMaxPrice(null));\n                  }\n                }\n                else { compareValues(); }\n                navigate({\n                  pathname: AppRoute.Page1,\n                  search: hashHistory.location.search,\n                });\n              }}\n            />\n          </div>\n        </div>\n      </fieldset>\n      <fieldset className=\"catalog-filter__block\">\n        <legend className=\"catalog-filter__block-title\">Тип гитар</legend>\n        <div className=\"form-checkbox catalog-filter__block-item\">\n          <input className=\"visually-hidden\" type=\"checkbox\" id=\"acoustic\" name=\"acoustic\" checked={selectedTypes && selectedTypes.includes('acoustic')}\n            onChange={() => {\n              dispatch(setSelectedTypes('acoustic'));\n              navigate({\n                pathname: AppRoute.Page1,\n                search: hashHistory.location.search,\n              });\n            }}\n          />\n          <label htmlFor=\"acoustic\">Акустические гитары</label>\n        </div>\n        <div className=\"form-checkbox catalog-filter__block-item\">\n          <input className=\"visually-hidden\" type=\"checkbox\" id=\"electric\" name=\"electric\" checked={selectedTypes && selectedTypes.includes('electric')}\n            onChange={() => {\n              dispatch(setSelectedTypes('electric'));\n              navigate({\n                pathname: AppRoute.Page1,\n                search: hashHistory.location.search,\n              });\n            }}\n          />\n          <label htmlFor=\"electric\">Электрогитары</label>\n        </div>\n        <div className=\"form-checkbox catalog-filter__block-item\">\n          <input className=\"visually-hidden\" type=\"checkbox\" id=\"ukulele\" name=\"ukulele\" checked={selectedTypes && selectedTypes.includes('ukulele')}\n            onChange={() => {\n              dispatch(setSelectedTypes('ukulele'));\n              navigate({\n                pathname: AppRoute.Page1,\n                search: hashHistory.location.search,\n              });\n            }}\n          />\n          <label htmlFor=\"ukulele\">Укулеле</label>\n        </div>\n      </fieldset>\n      <fieldset className=\"catalog-filter__block\">\n        <legend className=\"catalog-filter__block-title\">Количество струн</legend>\n        <div className=\"form-checkbox catalog-filter__block-item\">\n          <input className=\"visually-hidden\" type=\"checkbox\" id=\"4-strings\" name=\"4-strings\" checked={selectedStrings && selectedStrings.includes(4)} disabled={selectedTypes && selectedTypes.length !== 0 && !selectedTypes.includes('ukulele') && !selectedTypes.includes('electric')}\n            onChange={() => {\n              dispatch(setSelectedStrings(4));\n              navigate({\n                pathname: AppRoute.Page1,\n                search: hashHistory.location.search,\n              });\n            }}\n          />\n          <label htmlFor=\"4-strings\">4</label>\n        </div>\n        <div className=\"form-checkbox catalog-filter__block-item\">\n          <input className=\"visually-hidden\" type=\"checkbox\" id=\"6-strings\" name=\"6-strings\" checked={selectedStrings && selectedStrings.includes(6)} disabled={selectedTypes && selectedTypes.length !== 0 && !selectedTypes.includes('acoustic') && !selectedTypes.includes('electric')}\n            onChange={() => {\n              dispatch(setSelectedStrings(6));\n              navigate({\n                pathname: AppRoute.Page1,\n                search: hashHistory.location.search,\n              });\n            }}\n          />\n          <label htmlFor=\"6-strings\">6</label>\n        </div>\n        <div className=\"form-checkbox catalog-filter__block-item\">\n          <input className=\"visually-hidden\" type=\"checkbox\" id=\"7-strings\" name=\"7-strings\" checked={selectedStrings && selectedStrings.includes(7)} disabled={selectedTypes && selectedTypes.length !== 0 && !selectedTypes.includes('acoustic') && !selectedTypes.includes('electric')}\n            onChange={() => {\n              dispatch(setSelectedStrings(7));\n              navigate({\n                pathname: AppRoute.Page1,\n                search: hashHistory.location.search,\n              });\n            }}\n          />\n          <label htmlFor=\"7-strings\">7</label>\n        </div>\n        <div className=\"form-checkbox catalog-filter__block-item\">\n          <input className=\"visually-hidden\" type=\"checkbox\" id=\"12-strings\" name=\"12-strings\" checked={selectedStrings && selectedStrings.includes(12)} disabled={selectedTypes && selectedTypes.length !== 0 && !selectedTypes.includes('acoustic')}\n            onChange={() => {\n              dispatch(setSelectedStrings(12));\n              navigate({\n                pathname: AppRoute.Page1,\n                search: hashHistory.location.search,\n              });\n            }}\n          />\n          <label htmlFor=\"12-strings\">12</label>\n        </div>\n      </fieldset>\n      <button className=\"catalog-filter__reset-btn button button--black-border button--medium\" type=\"reset\"\n        onClick={() => {\n          navigate({\n            pathname: AppRoute.Page1,\n            search: hashHistory.location.search,\n          });\n          dispatch(setMinPrice(null));\n          dispatch(setMaxPrice(null));\n          dispatch(setSelectedTypes(null));\n          dispatch(setSelectedStrings(null));\n        }}\n      >Очистить\n      </button>\n    </form>\n  );\n}\n\nexport default FilterCard;\n"]},"metadata":{},"sourceType":"module"}