{"ast":null,"code":"import{useEffect}from'react';import{Link}from'react-router-dom';import{AppRoute}from'../const';import{useAppDispatch,useAppSelector}from'../hooks/hooks';import{setIsSortInc,setIsSorting,setMaxPrice,setMinPrice,setStringsGroup,setTypesGroup}from'../store/guitar-data';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Pagination(){var filteredGuitarsLength=useAppSelector(function(_ref){var DATA=_ref.DATA;return DATA.filteredGuitarsLength;});var _useAppSelector=useAppSelector(function(_ref2){var DATA=_ref2.DATA;return DATA;}),isSorting=_useAppSelector.isSorting,isSortInc=_useAppSelector.isSortInc,maxPrice=_useAppSelector.maxPrice,minPrice=_useAppSelector.minPrice,selectedStrings=_useAppSelector.selectedStrings,selectedTypes=_useAppSelector.selectedTypes;var dispatch=useAppDispatch();var sortType=localStorage.getItem('sortType');var sortDirection=localStorage.getItem('sortDirection');var priceMax=localStorage.getItem('maxPrice');var priceMin=localStorage.getItem('minPrice');var strings=localStorage.getItem('strings');var types=localStorage.getItem('types');useEffect(function(){if(sortType&&sortDirection){if(!isSortInc&&!isSorting){dispatch(setIsSorting(sortType));dispatch(setIsSortInc(sortDirection==='true'));}}if(!maxPrice&&priceMax){dispatch(setMaxPrice(priceMax));}if(!minPrice&&priceMin){dispatch(setMinPrice(priceMin));}if(selectedStrings.length===0&&strings){dispatch(setStringsGroup(strings.split('&').map(function(el){return Number(el);})));}if(selectedTypes.length===0&&types){dispatch(setTypesGroup(types.split('&').map(function(el){return el;})));}},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"pagination page-content__pagination\",\"data-testid\":\"pagination\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"pagination__list\",children:[document.location.hash.includes(AppRoute.Page2)?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{className:\"pagination__page pagination__page--prev\",id:\"prev\",children:/*#__PURE__*/_jsx(Link,{className:\"link pagination__page-link\",to:AppRoute.Page1,children:\"\\u041D\\u0430\\u0437\\u0430\\u0434\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"pagination__page \",children:/*#__PURE__*/_jsx(Link,{to:AppRoute.Page1,className:\"link pagination__page-link\",children:\"1\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"pagination__page\",children:/*#__PURE__*/_jsx(Link,{to:AppRoute.Page2,className:\"link pagination__page-link pagination__page--active\",type:\"button\",children:\"2\"})}),filteredGuitarsLength&&filteredGuitarsLength>18?/*#__PURE__*/_jsx(\"li\",{className:\"pagination__page\",children:/*#__PURE__*/_jsx(Link,{to:AppRoute.Page3,className:\"link pagination__page-link\",children:\"3\"})}):'',filteredGuitarsLength&&filteredGuitarsLength>18?/*#__PURE__*/_jsx(\"li\",{className:\"pagination__page pagination__page--next\",id:\"next\",children:/*#__PURE__*/_jsx(Link,{to:AppRoute.Page3,className:\"link pagination__page-link\",children:\"\\u0414\\u0430\\u043B\\u0435\\u0435\"})}):'']}):'',document.location.hash.includes(AppRoute.Page1)?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{className:\"pagination__page \",children:/*#__PURE__*/_jsx(Link,{to:AppRoute.Page1,className:\"link pagination__page-link pagination__page--active\",children:\"1\"})}),filteredGuitarsLength&&filteredGuitarsLength>9?/*#__PURE__*/_jsx(\"li\",{className:\"pagination__page\",children:/*#__PURE__*/_jsx(Link,{to:AppRoute.Page2,className:\"link pagination__page-link \",type:\"button\",children:\"2\"})}):'',filteredGuitarsLength&&filteredGuitarsLength>18?/*#__PURE__*/_jsx(\"li\",{className:\"pagination__page\",children:/*#__PURE__*/_jsx(Link,{to:AppRoute.Page3,className:\"link pagination__page-link\",children:\"3\"})}):'',filteredGuitarsLength&&filteredGuitarsLength>9?/*#__PURE__*/_jsx(\"li\",{className:\"pagination__page pagination__page--next\",id:\"next\",children:/*#__PURE__*/_jsx(Link,{to:AppRoute.Page2,className:\"link pagination__page-link\",children:\"\\u0414\\u0430\\u043B\\u0435\\u0435\"})}):'']}):'',document.location.hash.includes(AppRoute.Page3)?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{className:\"pagination__page pagination__page--prev\",id:\"prev\",children:/*#__PURE__*/_jsx(Link,{className:\"link pagination__page-link\",to:AppRoute.Page2,children:\"\\u041D\\u0430\\u0437\\u0430\\u0434\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"pagination__page \",children:/*#__PURE__*/_jsx(Link,{to:AppRoute.Page1,className:\"link pagination__page-link\",children:\"1\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"pagination__page\",children:/*#__PURE__*/_jsx(Link,{to:AppRoute.Page2,className:\"link pagination__page-link \",type:\"button\",children:\"2\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"pagination__page\",children:/*#__PURE__*/_jsx(Link,{to:AppRoute.Page3,className:\"link pagination__page-link pagination__page--active\",children:\"3\"})})]}):'']})});}export default Pagination;","map":{"version":3,"sources":["/Users/mashkust/react-starter-pack-main/src/components/pagination.tsx"],"names":["useEffect","Link","AppRoute","useAppDispatch","useAppSelector","setIsSortInc","setIsSorting","setMaxPrice","setMinPrice","setStringsGroup","setTypesGroup","Pagination","filteredGuitarsLength","DATA","isSorting","isSortInc","maxPrice","minPrice","selectedStrings","selectedTypes","dispatch","sortType","localStorage","getItem","sortDirection","priceMax","priceMin","strings","types","length","split","map","el","Number","document","location","hash","includes","Page2","Page1","Page3"],"mappings":"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","sourcesContent":["import { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { AppRoute } from '../const';\nimport { useAppDispatch, useAppSelector } from '../hooks/hooks';\nimport { setIsSortInc, setIsSorting, setMaxPrice, setMinPrice, setStringsGroup, setTypesGroup} from '../store/guitar-data';\nimport { GuitarTypes, SortType } from '../types/types';\n\nfunction Pagination(): JSX.Element {\n  const filteredGuitarsLength = useAppSelector(({ DATA }) => DATA.filteredGuitarsLength);\n  const {isSorting, isSortInc, maxPrice, minPrice, selectedStrings, selectedTypes } = useAppSelector(({ DATA }) => DATA);\n  const dispatch = useAppDispatch();\n  const sortType = localStorage.getItem('sortType');\n  const sortDirection = localStorage.getItem('sortDirection');\n\n  const priceMax = localStorage.getItem('maxPrice');\n  const priceMin = localStorage.getItem('minPrice');\n  const strings = localStorage.getItem('strings');\n  const types = localStorage.getItem('types');\n  useEffect(()=>{\n    if (sortType && sortDirection) {\n      if (!isSortInc && ! isSorting) {\n        dispatch(setIsSorting(sortType as SortType));\n        dispatch(setIsSortInc(sortDirection === 'true'));\n      }\n    }\n\n    if ( !maxPrice && priceMax) {\n      dispatch(setMaxPrice(priceMax));\n    }\n\n    if ( !minPrice && priceMin) {\n      dispatch(setMinPrice(priceMin));\n    }\n\n    if (selectedStrings.length === 0 && strings) {\n      dispatch(setStringsGroup(strings.split('&').map((el) => Number(el))));\n    }\n\n    if (selectedTypes.length === 0 && types ) {\n      dispatch(setTypesGroup(types.split('&').map((el) => (el as GuitarTypes))));\n    }\n\n\n  },[]);\n\n  return (\n    <div className=\"pagination page-content__pagination\" data-testid=\"pagination\">\n      <ul className=\"pagination__list\">\n        {document.location.hash.includes(AppRoute.Page2) ?\n          <><li className=\"pagination__page pagination__page--prev\" id=\"prev\"><Link className=\"link pagination__page-link\" to={AppRoute.Page1}>Назад</Link></li>\n            <li className=\"pagination__page \"><Link to={AppRoute.Page1} className=\"link pagination__page-link\">1</Link></li>\n            <li className=\"pagination__page\"><Link to={AppRoute.Page2} className=\"link pagination__page-link pagination__page--active\" type=\"button\">2</Link></li>\n            {filteredGuitarsLength && filteredGuitarsLength > 18 ?\n              <li className=\"pagination__page\"><Link to={AppRoute.Page3} className=\"link pagination__page-link\">3</Link></li>\n              : ''}\n            {filteredGuitarsLength && filteredGuitarsLength > 18 ?\n              <li className=\"pagination__page pagination__page--next\" id=\"next\"><Link to={AppRoute.Page3} className=\"link pagination__page-link\" >Далее</Link>\n              </li>\n              : ''}\n          </> : ''}\n        {document.location.hash.includes(AppRoute.Page1) ?\n          <>\n            <li className=\"pagination__page \"><Link to={AppRoute.Page1} className=\"link pagination__page-link pagination__page--active\">1</Link></li>\n            {filteredGuitarsLength && filteredGuitarsLength > 9 ?\n              <li className=\"pagination__page\"><Link to={AppRoute.Page2} className=\"link pagination__page-link \" type=\"button\">2</Link></li>\n              : ''}\n            {filteredGuitarsLength && filteredGuitarsLength > 18 ?\n              <li className=\"pagination__page\"><Link to={AppRoute.Page3} className=\"link pagination__page-link\">3</Link></li>\n              : ''}\n            {filteredGuitarsLength && filteredGuitarsLength > 9 ?\n              <li className=\"pagination__page pagination__page--next\" id=\"next\"><Link to={AppRoute.Page2} className=\"link pagination__page-link\" >Далее</Link>\n              </li>\n              : ''}\n          </> : ''}\n        {document.location.hash.includes(AppRoute.Page3) ?\n          <><li className=\"pagination__page pagination__page--prev\" id=\"prev\"><Link className=\"link pagination__page-link\" to={AppRoute.Page2}>Назад</Link></li>\n            <li className=\"pagination__page \"><Link to={AppRoute.Page1} className=\"link pagination__page-link\">1</Link></li>\n            <li className=\"pagination__page\"><Link to={AppRoute.Page2} className=\"link pagination__page-link \" type=\"button\">2</Link></li>\n            <li className=\"pagination__page\"><Link to={AppRoute.Page3} className=\"link pagination__page-link pagination__page--active\">3</Link></li>\n          </> : ''}\n      </ul>\n    </div>\n  );\n}\n\nexport default Pagination;\n"]},"metadata":{},"sourceType":"module"}