{"ast":null,"code":"import axios from'axios';import{getToken}from'./token';var BACKEND_URL='https://guitar-shop.accelerator.pages.academy';var REQUEST_TIMEOUT=5000;export var createAPI=function createAPI(){var api=axios.create({baseURL:BACKEND_URL,timeout:REQUEST_TIMEOUT});api.interceptors.request.use(function(config){var token=getToken();if(token){config.headers['x-token']=token;}return config;});return api;};","map":{"version":3,"sources":["/Users/mashkust/react-starter-pack-main/src/services/api.ts"],"names":["axios","getToken","BACKEND_URL","REQUEST_TIMEOUT","createAPI","api","create","baseURL","timeout","interceptors","request","use","config","token","headers"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAuD,OAAvD,CACA,OAAQC,QAAR,KAAuB,SAAvB,CAEA,GAAMC,CAAAA,WAAW,CAAG,+CAApB,CACA,GAAMC,CAAAA,eAAe,CAAG,IAAxB,CAEA,MAAO,IAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAqB,CAC5C,GAAMC,CAAAA,GAAG,CAAGL,KAAK,CAACM,MAAN,CAAa,CACvBC,OAAO,CAAEL,WADc,CAEvBM,OAAO,CAAEL,eAFc,CAAb,CAAZ,CAKAE,GAAG,CAACI,YAAJ,CAAiBC,OAAjB,CAAyBC,GAAzB,CACE,SAACC,MAAD,CAAgC,CAC9B,GAAMC,CAAAA,KAAK,CAAGZ,QAAQ,EAAtB,CAEA,GAAIY,KAAJ,CAAW,CACTD,MAAM,CAACE,OAAP,CAAe,SAAf,EAA4BD,KAA5B,CACD,CAED,MAAOD,CAAAA,MAAP,CACD,CATH,EAWA,MAAOP,CAAAA,GAAP,CACD,CAlBM","sourcesContent":["import axios, {AxiosInstance, AxiosRequestConfig} from 'axios';\nimport {getToken} from './token';\n\nconst BACKEND_URL = 'https://guitar-shop.accelerator.pages.academy';\nconst REQUEST_TIMEOUT = 5000;\n\nexport const createAPI = (): AxiosInstance => {\n  const api = axios.create({\n    baseURL: BACKEND_URL,\n    timeout: REQUEST_TIMEOUT,\n  });\n\n  api.interceptors.request.use(\n    (config: AxiosRequestConfig) => {\n      const token = getToken();\n\n      if (token) {\n        config.headers['x-token'] = token;\n      }\n\n      return config;\n    },\n  );\n  return api;\n};\n"]},"metadata":{},"sourceType":"module"}