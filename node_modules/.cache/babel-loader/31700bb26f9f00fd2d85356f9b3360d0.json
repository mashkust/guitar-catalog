{"ast":null,"code":"import{createSlice}from'@reduxjs/toolkit';import{NameSpace}from'../const';var initialState={guitars:[],guitar:null,comments:[],isDataLoaded:false,isDataSending:false,isSuccessModalOpened:false,isCommentModalOpened:false};export var guitarData=createSlice({name:NameSpace.data,initialState:initialState,reducers:{setIsSuccessModalOpened:function setIsSuccessModalOpened(state,action){state.isSuccessModalOpened=action.payload;},setIsCommentModalOpened:function setIsCommentModalOpened(state,action){state.isCommentModalOpened=action.payload;},loadGuitars:function loadGuitars(state,action){state.guitars=action.payload;state.isDataLoaded=true;},loadGuitar:function loadGuitar(state,action){state.guitar=action.payload;},loadComments:function loadComments(state,action){state.comments=action.payload.sort(function(a,b){return new Date(b.createAt).getTime()-new Date(a.createAt).getTime();});if(action.payload[0]){var first=action.payload[0];if(action.payload.every(function(el){return Number(el.guitarId)===Number(first.guitarId);})){var guitar=state.guitars.find(function(el){return Number(el.id)===Number(first.guitarId);});if(guitar){guitar.commentsCount=action.payload.length;}}}},sendComment:function sendComment(state,action){state.isDataSending=action.payload;}}});var _guitarData$actions=guitarData.actions,loadGuitars=_guitarData$actions.loadGuitars,loadGuitar=_guitarData$actions.loadGuitar,loadComments=_guitarData$actions.loadComments,sendComment=_guitarData$actions.sendComment,setIsSuccessModalOpened=_guitarData$actions.setIsSuccessModalOpened,setIsCommentModalOpened=_guitarData$actions.setIsCommentModalOpened;export{loadGuitars,loadGuitar,loadComments,sendComment,setIsSuccessModalOpened,setIsCommentModalOpened};","map":{"version":3,"sources":["/Users/mashkust/react-starter-pack-main/src/store/guitar-data.ts"],"names":["createSlice","NameSpace","initialState","guitars","guitar","comments","isDataLoaded","isDataSending","isSuccessModalOpened","isCommentModalOpened","guitarData","name","data","reducers","setIsSuccessModalOpened","state","action","payload","setIsCommentModalOpened","loadGuitars","loadGuitar","loadComments","sort","a","b","Date","createAt","getTime","first","every","el","Number","guitarId","find","id","commentsCount","length","sendComment","actions"],"mappings":"AAAA,OAASA,WAAT,KAA4B,kBAA5B,CAEA,OAASC,SAAT,KAA0B,UAA1B,CAEA,GAAMC,CAAAA,YAAwB,CAAG,CAC/BC,OAAO,CAAE,EADsB,CAE/BC,MAAM,CAAE,IAFuB,CAG/BC,QAAQ,CAAE,EAHqB,CAI/BC,YAAY,CAAE,KAJiB,CAK/BC,aAAa,CAAE,KALgB,CAM/BC,oBAAoB,CAAE,KANS,CAO/BC,oBAAoB,CAAE,KAPS,CAAjC,CAWA,MAAO,IAAMC,CAAAA,UAAU,CAAGV,WAAW,CAAC,CACpCW,IAAI,CAAEV,SAAS,CAACW,IADoB,CAEpCV,YAAY,CAAZA,YAFoC,CAGpCW,QAAQ,CAAE,CACRC,uBAAuB,CAAE,iCAACC,KAAD,CAAQC,MAAR,CAAyC,CAChED,KAAK,CAACP,oBAAN,CAA6BQ,MAAM,CAACC,OAApC,CACD,CAHO,CAIRC,uBAAuB,CAAE,iCAACH,KAAD,CAAQC,MAAR,CAAyC,CAChED,KAAK,CAACN,oBAAN,CAA6BO,MAAM,CAACC,OAApC,CACD,CANO,CAORE,WAAW,CAAE,qBAACJ,KAAD,CAAQC,MAAR,CAAmB,CAC9BD,KAAK,CAACZ,OAAN,CAAgBa,MAAM,CAACC,OAAvB,CACAF,KAAK,CAACT,YAAN,CAAqB,IAArB,CACD,CAVO,CAWRc,UAAU,CAAE,oBAACL,KAAD,CAAQC,MAAR,CAAmB,CAC7BD,KAAK,CAACX,MAAN,CAAeY,MAAM,CAACC,OAAtB,CACD,CAbO,CAcRI,YAAY,CAAE,sBAACN,KAAD,CAAQC,MAAR,CAA2C,CACvDD,KAAK,CAACV,QAAN,CAAiBW,MAAM,CAACC,OAAP,CAAeK,IAAf,CAAoB,SAACC,CAAD,CAAIC,CAAJ,QAAU,IAAIC,CAAAA,IAAJ,CAASD,CAAC,CAACE,QAAX,EAAqBC,OAArB,GAAiC,GAAIF,CAAAA,IAAJ,CAASF,CAAC,CAACG,QAAX,EAAqBC,OAArB,EAA3C,EAApB,CAAjB,CACA,GAAIX,MAAM,CAACC,OAAP,CAAe,CAAf,CAAJ,CAAuB,CACrB,GAAMW,CAAAA,KAAK,CAAGZ,MAAM,CAACC,OAAP,CAAe,CAAf,CAAd,CACA,GAAID,MAAM,CAACC,OAAP,CAAeY,KAAf,CAAqB,SAACC,EAAD,QAAQC,CAAAA,MAAM,CAACD,EAAE,CAACE,QAAJ,CAAN,GAAwBD,MAAM,CAACH,KAAK,CAACI,QAAP,CAAtC,EAArB,CAAJ,CAAkF,CAChF,GAAM5B,CAAAA,MAAM,CAAGW,KAAK,CAACZ,OAAN,CAAc8B,IAAd,CAAmB,SAACH,EAAD,QAASC,CAAAA,MAAM,CAACD,EAAE,CAACI,EAAJ,CAAN,GAAkBH,MAAM,CAACH,KAAK,CAACI,QAAP,CAAjC,EAAnB,CAAf,CACA,GAAI5B,MAAJ,CAAY,CACVA,MAAM,CAAC+B,aAAP,CAAuBnB,MAAM,CAACC,OAAP,CAAemB,MAAtC,CACD,CACF,CACF,CACF,CAzBO,CA0BRC,WAAW,CAAE,qBAACtB,KAAD,CAAQC,MAAR,CAAmB,CAC9BD,KAAK,CAACR,aAAN,CAAsBS,MAAM,CAACC,OAA7B,CACD,CA5BO,CAH0B,CAAD,CAA9B,CAmCA,wBAOHP,UAAU,CAAC4B,OAPR,CACLnB,WADK,qBACLA,WADK,CAELC,UAFK,qBAELA,UAFK,CAGLC,YAHK,qBAGLA,YAHK,CAILgB,WAJK,qBAILA,WAJK,CAKLvB,uBALK,qBAKLA,uBALK,CAMLI,uBANK,qBAMLA,uBANK,C","sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\nimport { GuitarData } from '../types/types';\nimport { NameSpace } from '../const';\nimport type { Comment } from './../types/types';\nconst initialState: GuitarData = {\n  guitars: [],\n  guitar: null,\n  comments: [],\n  isDataLoaded: false,\n  isDataSending: false,\n  isSuccessModalOpened: false,\n  isCommentModalOpened: false,\n};\n\n\nexport const guitarData = createSlice({\n  name: NameSpace.data,\n  initialState,\n  reducers: {\n    setIsSuccessModalOpened: (state, action: { payload: boolean }) => {\n      state.isSuccessModalOpened = action.payload;\n    },\n    setIsCommentModalOpened: (state, action: { payload: boolean }) => {\n      state.isCommentModalOpened = action.payload;\n    },\n    loadGuitars: (state, action) => {\n      state.guitars = action.payload;\n      state.isDataLoaded = true;\n    },\n    loadGuitar: (state, action) => {\n      state.guitar = action.payload;\n    },\n    loadComments: (state, action: { payload: Comment[] }) => {\n      state.comments = action.payload.sort((a, b) => new Date(b.createAt).getTime() - new Date(a.createAt).getTime());\n      if (action.payload[0]) {\n        const first = action.payload[0];\n        if (action.payload.every((el) => Number(el.guitarId) === Number(first.guitarId))) {\n          const guitar = state.guitars.find((el) =>  Number(el.id) === Number(first.guitarId));\n          if (guitar) {\n            guitar.commentsCount = action.payload.length;\n          }\n        }\n      }\n    },\n    sendComment: (state, action) => {\n      state.isDataSending = action.payload;\n    },\n  },\n});\n\nexport const {\n  loadGuitars,\n  loadGuitar,\n  loadComments,\n  sendComment,\n  setIsSuccessModalOpened,\n  setIsCommentModalOpened,\n} = guitarData.actions;\n"]},"metadata":{},"sourceType":"module"}